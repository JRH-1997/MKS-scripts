// ==UserScript==
// @name         Scripts-MKS
// @version      2.0
// @description  Bundle of my scripts || Author Base RemainingCredits: LennardTFD (DE) || Author Base Hide AllianceBuildings: LennardTFD (DE) || Author Base Credits Missionlist: ItsDreyter (DE)
// @author       JRH1997
// @include      /^https?:\/\/(?:w{3}\.)?(?:(policie\.)?operacni-stredisko\.cz|(politi\.)?alarmcentral-spil\.dk|(polizei\.)?leitstellenspiel\.de|missionchief\.gr|(?:(police\.)?missionchief-australia|(police\.)?missionchief|(poliisi\.)?hatakeskuspeli|missionchief-japan|missionchief-korea|(politiet\.)?nodsentralspillet|(politie\.)?meldkamerspel|operador193|jogo-operador112|jocdispecerat112|dispecerske-centrum|112-merkez|dyspetcher101-game)\.com|(police\.)?missionchief\.co\.uk|centro-de-mando\.es|centro-de-mando\.mx|(police\.)?operateur112\.fr|(polizia\.)?operatore112\.it|(policja\.)?operatorratunkowy\.pl|dispetcher112\.ru|(polis\.)?larmcentralen-spelet\.se)\/.*$/
// @grant        GM_addStyle
// @namespacen
// @downloadURL  https://github.com/JRH-1997/Scripts-MKS/raw/master/Script-bundle/Scripts-MKS.user.js
// @updateURL    https://github.com/JRH-1997/Scripts-MKS/raw/master/Script-bundle/Scripts-MKS.user.js
// ==/UserScript==
var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e},$jscomp.createTemplateTagFirstArgWithRaw=function(e,i){return e.raw=i,e},$jscomp.arrayIteratorImpl=function(e){var i=0;return function(){return i<e.length?{done:!1,value:e[i++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.makeIterator=function(e){var i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return i?i.call(e):$jscomp.arrayIterator(e)},$jscomp.arrayFromIterator=function(e){for(var i,s=[];!(i=e.next()).done;)s.push(i.value);return s},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,i,s){return e==Array.prototype||e==Object.prototype||(e[i]=s.value),e},$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var i=0;i<e.length;++i){var s=e[i];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(e,i){var s=$jscomp.propertyToPolyfillSymbol[i];return null!=s&&void 0!==(s=e[s])?s:e[i]};$jscomp.polyfill=function(e,i,s,t){i&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,i,s,t):$jscomp.polyfillUnisolated(e,i,s,t))},$jscomp.polyfillUnisolated=function(e,i,s,t){for(s=$jscomp.global,e=e.split("."),t=0;t<e.length-1;t++){var n=e[t];if(!(n in s))return;s=s[n]}(i=i(t=s[e=e[e.length-1]]))!=t&&null!=i&&$jscomp.defineProperty(s,e,{configurable:!0,writable:!0,value:i})},$jscomp.polyfillIsolated=function(e,i,s,t){var n=e.split(".");e=1===n.length,t=n[0],t=!e&&t in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var l=0;l<n.length-1;l++){var a=n[l];if(!(a in t))return;t=t[a]}n=n[n.length-1],null!=(i=i(s=$jscomp.IS_SYMBOL_NATIVE&&"es6"===s?t[n]:null))&&(e?$jscomp.defineProperty($jscomp.polyfills,n,{configurable:!0,writable:!0,value:i}):i!==s&&(void 0===$jscomp.propertyToPolyfillSymbol[n]&&($jscomp.propertyToPolyfillSymbol[n]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(n):$jscomp.POLYFILL_PREFIX+n),$jscomp.defineProperty(t,$jscomp.propertyToPolyfillSymbol[n],{configurable:!0,writable:!0,value:i})))},$jscomp.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,i){if(e.__proto__=i,e.__proto__!==i)throw new TypeError(e+" is not extensible");return e}:null,$jscomp.generator={},$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},$jscomp.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1},$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e},$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},$jscomp.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},$jscomp.generator.Context.prototype.yield=function(e,i){return this.nextAddress=i,{value:e}},$jscomp.generator.Context.prototype.yieldAll=function(e,i){var s=$jscomp.makeIterator(e),e=s.next();if($jscomp.generator.ensureIteratorResultIsObject_(e),!e.done)return this.yieldAllIterator_=s,this.yield(e.value,i);this.yieldResult=e.value,this.nextAddress=i},$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,i){this.catchAddress_=e,null!=i&&(this.finallyAddress_=i)},$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},$jscomp.generator.Context.prototype.leaveTryBlock=function(e,i){this.nextAddress=e,this.catchAddress_=i||0},$jscomp.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,i,s){s?this.finallyContexts_[s]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=i||0},$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,i){i=this.finallyContexts_.splice(i||0)[0];if(i=this.abruptCompletion_=this.abruptCompletion_||i){if(i.isException)return this.jumpToErrorHandler_();null!=i.jumpTo&&this.finallyAddress_<i.jumpTo?(this.nextAddress=i.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)},$jscomp.generator.Context.PropertyIterator=function(e){for(var i in this.object_=e,this.properties_=[],e)this.properties_.push(i);this.properties_.reverse()},$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context,this.program_=e},$jscomp.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var i=this.context_.yieldAllIterator_;return i?this.yieldAllStep_("return"in i?i.return:function(e){return{value:e,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,i,s){try{var t=e.call(this.context_.yieldAllIterator_,i);if($jscomp.generator.ensureIteratorResultIsObject_(t),!t.done)return this.context_.stop_(),t;var n=t.value}catch(e){return this.context_.yieldAllIterator_=null,this.context_.throw_(e),this.nextStep_()}return this.context_.yieldAllIterator_=null,s.call(this.context_,n),this.nextStep_()},$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(e){this.context_.yieldResult=void 0,this.context_.throw_(e)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},$jscomp.generator.Generator_=function(i){this.next=function(e){return i.next_(e)},this.throw=function(e){return i.throw_(e)},this.return=function(e){return i.return_(e)},this[Symbol.iterator]=function(){return this}},$jscomp.generator.createGenerator=function(e,i){i=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(i));return $jscomp.setPrototypeOf&&e.prototype&&$jscomp.setPrototypeOf(i,e.prototype),i},$jscomp.asyncExecutePromiseGenerator=function(i){function n(e){return i.next(e)}function l(e){return i.throw(e)}return new Promise(function(s,t){!function e(i){i.done?s(i.value):Promise.resolve(i.value).then(n,l).then(e,t)}(i.next())})},$jscomp.asyncExecutePromiseGeneratorFunction=function(e){return $jscomp.asyncExecutePromiseGenerator(e())},$jscomp.asyncExecutePromiseGeneratorProgram=function(e){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e)))},GM_addStyle(".switch{position: relative;display: inline-block;width: 40px;height: 20px;}.switchinput{opacity: 0;width: 0;height: 0;}.slider{position: absolute;cursor: pointer;top: 0;left: 0;right: 0;bottom: 0;margin-bottom: 0;background-color: #ccc;-webkit-transition: .4s;transition: .4s;}.slider:before{position: absolute;content: '';height: 12px;width: 12px;bottom: 4px;background-color: white;-webkit-transition: .4s;transition: .4s;}input:checked + .slider{background-color: #2196F3;}input:focus + .slider{box-shadow: 0 0 1px #2196F3;}input:checked + .slider:before{-webkit-transform: translateX(26px);-ms-transform: translateX(26px);transform: translateX(26px);}.slider{border-radius: 34px;}.slider:before{border-radius: 50%;}.settingGroup{padding-right: 15px;padding-left: 15px;margin-right: auto;margin-left: auto;display: flex;}.settingDiv{width: 33%;border: 2px solid gray;border-radius: 25px;padding: 20px;margin-left: 5px;margin-right: 5px;margin-bottom: 5px;margin-top: 5px;}.settingInput{width: 100px;color: black;}.panelbody{font-size: 16px;}.hiddencredits{display: none !important;}.hiddenLabel{display: none !important;}.hiddenInvolved{display: none !important;}.hiddenShared{display: none !important;}.disabledBtn{pointer-events: none;cursor: not-allowed;opacity: 0.5;}body.dark a.white{color: white;}a.white{text-decoration: underline;} div#missions-panel-body .missionSort-Scripts-MKS {display: flex !important;flex-direction: column;}div#missions-panel-body .missionSortDesc-Scripts-MKS {display:  flex !important;flex-direction: column-reverse;}"),function(){var S,i,C,O,k,A,f,s,t,p,m,n,l,a,h,c,o,r,d,u,v,g,b,_,M,y,w,I,x,L,T,E,j,P,K,B,H,N,D,R,G,F,U,V,z,J,q,W,Y,X,Z,Q,ee,ie,se,te,ne,le,ae,oe,re,de,ce,ue,pe,me,he,ve,ge,fe,be,_e,Me,ye,we,Se,Ce,Oe,ke,Ae,$e,Ie,xe,Le,Te,Ee,je,Pe,Ke,Be,He,Ne,De,Re;$jscomp.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:if("undefined"==typeof user_id||!window.location.pathname.match(/^\/(missions\/)?(\w+)?$/g)){e.jumpTo(0);break}if(S=function(i,s,t,n){var l,a,o,r,d,c,u;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){return 1==e.nextAddress?(l=JSON.parse(null!=(a=localStorage.getItem("LSS_Scripts_MKS_Settings_"+user_id))?a:"{}"))["general.telemetry.setting"]||n?void 0!==m&&void 0!==p?e.jumpTo(3):e.yield($.getJSON("/api/credits"),4):e.jumpTo(0):(3!=e.nextAddress&&(o=e.yieldResult,m=o.user_name,p=o.user_id),a=!1,l["credits.DoubleCreditsEvent"]&&localStorage.Scripts_MKS_DoubleCreditsEvent&&(a=new Date(JSON.parse(localStorage.Scripts_MKS_DoubleCreditsEvent)).toLocaleString("nl")),o=Object.keys(l),r={},o.forEach(function(e){var i=e.replace(/[^a-z0-9_-]/gi,"_");r[i]=l[e]}),!0!==n&&(u=new XMLHttpRequest,t?u.open("PATCH","https://scripts-mks.firebaseio.com/Users/"+I18n.locale+"/"+p+"_"+m.replace(/[^a-z0-9_-]/gi,"_")+"/error.json"):u.open("PATCH","https://scripts-mks.firebaseio.com/Users/"+I18n.locale+"/"+p+"_"+m.replace(/[^a-z0-9_-]/gi,"_")+"/data.json"),u.setRequestHeader("Content-type","application/json"),(c={})[(new Date).getTime()]={User_ID:p,User_Name:m,Version:O()+C(),date:(new Date).toLocaleString("nl"),setting:r,"Double credits":a},c=c,t&&((d={})[(new Date).getTime()]={User_ID:p,User_Name:m,Version:O()+C(),date:(new Date).toLocaleString("nl"),setting:r,"Double credits":a,Error:i,Function:s},c=d),u.send(JSON.stringify(c))),(n||t)&&(d=new XMLHttpRequest,u="https://discord.com/api/webhooks/771539366634848286/Xe07FAWS54TBFt3xHvt74zIrgSP0PAAnjbv4LzZMEPP1BGMIDID2XBGHruVK07XL5jMX",i="User Name: "+m+"\nUser ID: "+p+"\nGame: "+I18n.locale+"\nTijd: "+(new Date).toLocaleString("nl"),t&&(u="https://discord.com/api/webhooks/771895466828628008/gDxoJRL9eOS2Ho1ftwGP4TZmdK33NYNmFJrY0phH6aosFFrUPwiiY6NfUEolCt4cnZDd",i="User Name: "+m+"\nUser ID: "+p+"\nGame: "+I18n.locale+"\nTijd: "+(new Date).toLocaleString("nl")+"\nError, zie logbestanden!"),"deletedata"!==s&&"withdrawdeletedata"!==s||(c="withdrawdeletedata"===s?"I'll withdraw my request to delete my data":"Please delete my data",u="https://discord.com/api/webhooks/775458301982015529/wzNJ1rkgfBQGa8ZVAvr1YKMlSJ4SszkoW-h1ln0kFCZ6zH-hJJJHXJ_OQn5Lak6Z_5LO",i="User Name: "+m+"\nUser ID: "+p+"\nGame: "+I18n.locale+"\nTijd: "+(new Date).toLocaleString("nl")+"\n"+c),d.open("POST",u),d.setRequestHeader("Content-type","application/json"),u={author:{name:O()+C()},title:"Functie: "+s,description:i,color:"16711680"},u={username:"Scripts-MKS",embeds:[u]},d.send(JSON.stringify(u))),void e.jumpToEnd())})},i=function(){return"2.0"},C=function(){return"2.0"},k=!(O=function(){return"Stable "}),A=function(e,i,s,t,n){try{var l=document.createElement(e);return i&&l.setAttribute("id",i),s&&l.setAttribute("class",s),n&&l.setAttribute("style",n),t&&(l.innerHTML=t),l}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > createElement"),S(e.message,"createElement",!0,!1)}},f=function(e){try{return document.getElementById(e)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > getElementById"),S(e.message,"getElementById",!0,!1)}},m=p=void 0,"/"===window.location.pathname)return e.yield($.getJSON("/api/credits"),4);e.jumpTo(3);break;case 4:n=e.yieldResult,m=n.user_name,user_id=p=n.user_id;case 3:ke=":\n\nRelease Notes: \n - [Settings] There is a full new settings window instead of the old menu. \n - [Sort missionlist] New module: Sort the missionlist based on credits \n - [credits] New label color. The light blue label will be hidden by default. \nIf you want to use it, you could turn it on by changing the dark blue label value. \n - [hide missionlist] New: Hide missions by label color. \n - [credits] UK update: Planned missions category will be shown at UK and the new altnernate versions of missions will be used for the credits labels in the missionheader. \n implementation in the missionlist and counters are waiting on a update from the game devs.",n=":\n\nThanks for using this script! \n Do you have any questions? \n Please contact me at the Dutch forum, Discordmessage: JRH1997#2625, Github JRH-1997 \n or ingame message at the dutch game www.meldkamerspel.com: JRH1997",l="\n\nWe collect usage data and error logging. \nThese data include: user ID, username, gameversion, Script settings and script version. If it's an error report, then the data will also includes the Error message. \n We only use this information for support, statistics and finding/resolving bugs \n\n Do you agree to this?",a="\n\nWe have deleted you data succesfully from our database.","nl_NL"==I18n.locale&&(l="\n\nWij verzamelen gegevens over het gebruik van het script en error logs. \n Deze gegevens omvatten je user ID, username, spelversie, Scriptinstellingen en scriptversie. Als het een error betreft zal de data ook het error bericht bevatten. \nWe gebruiken deze gegevens alleen voor support, statistieken en het vinden en oplossen van fouten \n\n Ga je hiermee akkoord?",ke=":\n\nRelease Notes: \n - [Instellingen] Er is een volledig nieuw instellingen menu die het oude menu vervangt. \n Neem een kijkje in het menu en laat weten wat je er van vind! \n - [Sorteer meldingenlijst] Nieuwe module: Sorteer de meldingenlijst op basis van credits. \n - [credits] Nieuw label: Het licthblauwe label wordt standaard niet gebruikt. \nIndien je deze wilt gebruiken kan je de waarde van het donkerblauwe label verhogen. \n - [Verberg meldingenlijst] Nieuw: Verberg meldingen op basis van labelkleur.\n - [credits] UK update: Geplande inzetten zullen in de eigen categorie worden getoond aangezien UK deze nu ook heeft. \n - [credits] UK update: Alternatieve versies van meldingen zullen worden gebruikt indien van toepassing in de labels in de meldingstitel. Implementatie in de meldingenlijst en tellers zal nog moeten wachten op een update van het spel.",n=":\n\nBedankt dat je dit script gebruikt! \nHeb je vragen of opmerkingen? \nNeem alsjeblieft contact op via het forum, Discord bericht: JRH1997#2625,\nin de meldkamerspel.com discord, Github JRH-1997 of een bericht in het spel zelf: JRH1997",a="\n\nWe hebben je gegevens succesvol uit onze database verwijderd."),"nl_NL"==I18n.locale&&["Beta ","Alpha "].includes(O())?ke=":\n\nRelease Notes: \n2.0.8:  \n - [instellingen] Nieuwe update script knop in het instellingenscherm\n - [credits] UK update: Geplande inzetten zullen in de eigen categorie worden getoond aangezien UK deze nu ook heeft. \n UK update: Alternatieve versies van meldingen zullen worden gebruikt indien van toepassing in de labels in de meldingstitel. Implementaie in de meldingenlijst en tellers zal nog moeten wachten op een update van het spel.\n\nEerder:\n - [Instellingen] Er is een volledig nieuw instellingen menu die het oude menu vervangt. \n Neem een kijkje in het menu en laat weten wat je er van vind! \n - [Sorteer meldingenlijst] Nieuwe module: Sorteer de meldingenlijst op basis van credits. \n - [credits] Nieuw label: Het licthblauwe label wordt standaard niet gebruikt. \nIndien je deze wilt gebruiken kan je de waarde van het donkerblauwe label verhogen. \n - [Verberg meldingenlijst] Nieuw: Verberg meldingen op basis van labelkleur.":["Beta ","Alpha "].includes(O())&&(ke=":\n\nRelease Notes: \n 2.0.8:  \n - [settings] New update script button in the settingwindow. \n - [credits] UK update: Planned missions category will be shown at UK and the new altnernate versions of missions will be used for the credits labels in the missionheader. \n implementation in the missionlist and counters are waiting on a update from the game devs. \n\n Before:\n - [Settings] There is a full new settings window instead of the old menu. \n - [Sort missionlist] New module: Sort the missionlist based on credits \n - [credits] New label color. The light blue label will be hidden by default. \nIf you want to use it, you could turn it on by changing the dark blue label value. \n - [hide missionlist] New: Hide missions by label color."),e.setCatchFinallyBlocks(5),H=function(){var i,s,t,n,l,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return e.setCatchFinallyBlocks(2),i=f("POILIST").value,e.yield(de(),4);if(2!=e.nextAddress){for(a in s=e.yieldResult,t=[],(o=[]).push(map._layers),n=[],l=[],t=o[0],o[0])n.push(a);return n.forEach(function(e){l.push(t[e].id)}),s.mission_positions.forEach(function(e){e.caption!=i&&i!=fe.HideMap_POI_All_Translation||-1!=l.indexOf(e.id)||map_pois_service.leafletMissionPositionMarkerAdd(e)}),t=[],o=[],n=[],$(f("ShowPOI")).text(fe.HideMap_POI_Show_POI_Translation),e.leaveTryBlock(0)}o=e.enterCatchBlock(),console.error(o.message," > Scripts-MKS "+O()+C()+" > ShowPOI"),$(f("ShowPOI")).text(fe.HideMap_POI_Show_POI_Translation),S(o.message,"ShowPOI",!0,!1),e.jumpToEnd()})},N=function(){var i,s,t,n,l,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return e.setCatchFinallyBlocks(2),i=f("POILIST").value,e.yield(de(),4);if(2!=e.nextAddress){for(a in s=e.yieldResult,t=[],n=[],(o=[]).push(map._layers),l=[],n=o[0],o[0])l.push(a);return s.mission_positions.forEach(function(e){i!=fe.HideMap_POI_All_Translation&&e.caption!=i||t.push(e.id)}),l.forEach(function(e){-1!=t.indexOf(n[e].id)&&map.removeLayer(n[e])}),t=[],n=[],o=[],l=[],$(f("HidePOI")).text(fe.HideMap_POI_Hide_POI_Translation),e.leaveTryBlock(0)}o=e.enterCatchBlock(),console.error(o.message," > Scripts-MKS "+O()+C()+" > HidePOI"),$(f("HidePOI")).text(fe.HideMap_POI_Hide_POI_Translation),S(o.message,"HidePOI",!0,!1),e.jumpToEnd()})},se=function(){try{var n;localStorage.Scripts_MKS_DoubleCreditsEvent?parseInt(localStorage.Scripts_MKS_DoubleCreditsEvent)>(new Date).getTime()?n=!0:(localStorage.removeItem("Scripts_MKS_DoubleCreditsEvent"),n=!1,(he.credits.setting.value&&he.credits.missionlist.label.value||he.credits.setting.value&&he.credits.missionlist.text.value||he.credits.setting.value&&he.credits.missionlist.labelAfter.value||he.credits.setting.value&&he.credits.missionlist.textAfter.value)&&le(),he.credits.setting.value&&he.credits.remainingCredits.setting.value&&se(),setTimeout(ue,15e3)):n=!1;var l=0,a=0,o=0,r=0,d=0,c=0,u=0,e=f("missions-panel-body");$(e).find("a[id*='alarm_button']").parent().parent().parent().not("[class*='mission_deleted']").not("[class*='mission_alliance_distance_hide']").each(function(e,i){var s,t;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){return 1==e.nextAddress?(t=$(i).attr("mission_type_id"),"null"==$(i).attr("mission_type_id")?e.return():void 0!==Ce[t]?e.jumpTo(2):e.yield(ce(),2)):(t=s=void 0!==Ce[t]?Ce[t].average_credits||250:0,n&&he.credits.DoubleCreditsEvent.value&&(s*=2),$(i).parent().attr("id").includes("alliance")?(a+=s,r+=s):$(i).parent().attr("id").includes("sicherheitswache")?(o+=s,r+=s):(l+=s,r+=s,t>=he.alliance.value.value&&(d++,u+=s),$(i)[0].firstChild.className.includes("panel-success")&&(c+=s)),void e.jumpToEnd())})}),he.credits.setting.value&&he.credits.remainingCredits.setting.value&&(he.credits.remainingCredits.total.value?he.credits.remainingCredits.total.value&&$(f("remainingCredits")).text(re(l)+" / "+re(o)+" / "+re(a)+" / "+re(r)):$(f("remainingCredits")).text(re(l)+" / "+re(o)+" / "+re(a))),he.alliance.setting.value&&he.alliance.count.value&&($(f("own_alliance_credits")).text(re(c)),$(f("AllianceCount_ToShare_Count")).text(d),$(f("AllianceCount_ToShare_Credits")).text(re(u)),$(f("own_alliance_missions")).text($("#mission_list :not(.mission_deleted) .panel-success").length))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > calculateRemainingCredits"),S(e.message,"calculateRemainingCredits",!0,!1)}},te=function(){var i,s,t,n;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){try{$(f("RemainingCreditsText")).remove(),$(f("AllianceCountText")).remove(),i=f("btn-group-mission-select"),he.credits.setting.value&&he.credits.remainingCredits.setting.value&&null==f("RemainingCreditsText")&&(s='<span id="RemainingCreditsText"><br><span>'+fe.ToEarn+"<span id='remainingCredits'>0 / 0</span> Credits</span></span>",$(i).after(s)),he.alliance.setting.value&&he.alliance.count.value&&(t='<span id="AllianceCountText"><br>'+fe.AllianceCount_ToShare_Translation+'<span id="AllianceCount_ToShare_Count"></span> / <span id="AllianceCount_ToShare_Credits"></span> | '+fe.AllianceCount_Shared_Translation+'<span id="own_alliance_missions">'+$("#mission_list :not(.mission_deleted) .panel-success").length+'</span> / <span id="own_alliance_credits"></span></span>',null==f("AllianceCountText")&&(null==f("RemainingCreditsText")?$(i).after($(t)):$(f("RemainingCreditsText")).after(t))),n=f("missions-panel-body"),$(n).find("a[id*='alarm_button']").each(function(e,i){oe($(i).parent().parent().parent())});try{se()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > calculateRemainingCredits"),S(e.message,"calculateRemainingCredits",!0,!1)}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initRemainingCredits"),S(e.message,"initRemainingCredits",!0,!1)}e.jumpToEnd()})},ne=function(){var i,s,t,n,l,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){return 1==e.nextAddress?(e.setCatchFinallyBlocks(2),s=$(f("missionH1")),i=!!localStorage.Scripts_MKS_DoubleCreditsEvent&&parseInt(localStorage.Scripts_MKS_DoubleCreditsEvent)>(new Date).getTime(),$(f("navbar-right-help-button")).find("a[id*='mission_help']").parent().parent().parent(),"null"==(t=f("mission_help").getAttribute("href").split("/").pop().replace(/\?.*/,""))?e.return():null!=Ce[parseInt(t)]?e.jumpTo(4):e.yield(ce(),4)):2!=e.nextAddress?(n=Ce[parseInt(t)],t=void 0!==n?f("mission_general_info").hasAttribute("data-overlay-index")&&Object.values(n.alternate_version)[parseInt(f("mission_general_info").getAttribute("data-overlay-index"))-1]?Object.values(n.alternate_version)[parseInt(f("mission_general_info").getAttribute("data-overlay-index"))-1].average_credits||0:n.average_credits||0:void 0,he.credits.setting.value&&he.credits.missionheader.label.value?(l=c(t,i),a=h(t),n='<br>&nbsp&nbsp&nbsp&nbsp<span id="CreditsMissionheader" class="label '+a+'"> '+l+" </span></span>",s.append(n)):he.credits.setting.value&&he.credits.missionheader.text.value&&(l=c(t,i),l=0===t?"<br>&nbsp&nbsp&nbsp&nbsp&nbsp"+l:'<br>&nbsp<span id="CreditsMissionheader">'+l+"</span>",s.append(l)),void 0===t?e.return():(t>=he.alliance.value.value&&he.alliance.setting.value&&he.alliance.missionheader.value&&(he.alliance.color.value?he.alliance.color.value&&(a=h(t),a='<span class="label '+a+'">'+fe.LabelAlliance+"</span>",s.append(a)):(o='<span class="label label-danger">'+fe.LabelAlliance+"</span>",s.append(o))),e.leaveTryBlock(0))):(o=e.enterCatchBlock(),console.error(o.message," > Scripts-MKS "+O()+C()+" > initCreditsMissionheader"),S(o.message,"initCreditsMissionheader",!0,!1),void e.jumpToEnd())})},le=function(){var r,d,i;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){try{r=!1,$(".creditsmissionlist").remove(),$(".creditsmissionlistlabelTEAM").remove(),d=$(".missionSideBarEntry"),i=function(){var i,s,t,n,l,a,o;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:i=0;case 2:if(!(i<d.length)){e.jumpTo(0);break}if("null"===d[i].getAttribute("mission_type_id")||null===d[i].getAttribute("mission_type_id")){e.jumpTo(3);break}if(void 0===Ce[d[i].getAttribute("mission_type_id")])return e.yield(ce(),5);e.jumpTo(5);break;case 5:if(s=void 0!==Ce[d[i].getAttribute("mission_type_id")]?Ce[d[i].getAttribute("mission_type_id")].average_credits||0:void 0,he.credits.setting.value&&he.credits.missionlist.text.value?(Be=c(s,r),n=A("div","creditsmissionlist_"+d[i].getAttribute("mission_id"),"creditsmissionlist",Be),t=d[i].firstElementChild.childNodes,t[1].firstElementChild.childNodes[1].firstElementChild.before(n)):he.credits.setting.value&&he.credits.missionlist.label.value?(Be=c(s,r),He=h(s),t=A("h4","creditsmissionlist_"+d[i].getAttribute("mission_id"),"creditsmissionlist",'<span class="label '+He+"\"> <span id='html_str'>"+Be+"</span></span>"),n=d[i].firstElementChild.childNodes,n[1].firstElementChild.childNodes[1].firstElementChild.before(t)):he.credits.setting.value&&he.credits.missionlist.textAfter.value?(Be=c(s,r),l=A("div","creditsmissionlist_"+d[i].getAttribute("mission_id"),"creditsmissionlist pull-right",Be),d[i].firstElementChild.childNodes[0].append(l)):he.credits.setting.value&&he.credits.missionlist.labelAfter.value&&(Be=c(s,r),He=h(s),l=A("div","creditsmissionlist_"+d[i].getAttribute("mission_id"),"creditsmissionlist pull-right",'<span class="label '+He+"\"> <span id='html_str'>"+Be+"</span></span>"),d[i].firstElementChild.childNodes[0].append(l)),void 0===s){e.jumpTo(3);break}s>=he.alliance.value.value&&he.alliance.setting.value&&he.alliance.missionlist.value&&(he.alliance.color.value?he.alliance.color.value&&(He=h(s),a=A("h4","creditsmissionlistlabel_TEAM_"+d[i].getAttribute("mission_id"),"creditsmissionlistlabelTEAM",'<span class="label '+He+"\"> <span id='html_str'>"+fe.LabelAlliance+"</span></span>"),o=d[i].firstElementChild.childNodes,o[1].firstElementChild.childNodes[1].firstElementChild.before(a)):(o=A("h4","creditsmissionlistlabel_TEAM_"+d[i].getAttribute("mission_id"),"creditsmissionlistlabelTEAM","<span class=\"label label-danger\"> <span id='html_str'>"+fe.LabelAlliance+"</span></span>"),a=d[i].firstElementChild.childNodes,a[1].firstElementChild.childNodes[1].firstElementChild.before(o)));case 3:i++,e.jumpTo(2)}})},localStorage.Scripts_MKS_DoubleCreditsEvent?parseInt(localStorage.Scripts_MKS_DoubleCreditsEvent)>(new Date).getTime()?r=!0:(localStorage.removeItem("Scripts_MKS_DoubleCreditsEvent"),r=!1,he.credits.setting.value&&(he.credits.missionlist.label.value||he.credits.missionlist.text.value||he.credits.missionlist.labelAfter.value||he.credits.missionlist.textAfter.value)&&le(),he.credits.setting.value&&he.credits.remainingCredits.setting.value&&se(),setTimeout(ue,15e3)):r=!1,i()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initCreditsMissionlist"),S(e.message,"initCreditsMissionlist",!0,!1)}e.jumpToEnd()})},ae=function(i){var s,t,n,l,a,o,r,d;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:if(e.setCatchFinallyBlocks(2),localStorage.Scripts_MKS_DoubleCreditsEvent?parseInt(localStorage.Scripts_MKS_DoubleCreditsEvent)>(new Date).getTime()?s=!0:(localStorage.removeItem("Scripts_MKS_DoubleCreditsEvent"),s=!1,(he.credits.setting.value&&he.credits.missionlist.label.value||he.credits.setting.value&&he.credits.missionlist.text.value||he.credits.setting.value&&he.credits.missionlist.labelAfter.value||he.credits.setting.value&&he.credits.missionlist.textAfter.value)&&le(),he.credits.setting.value&&he.credits.remainingCredits.setting.value&&se(),setTimeout(ue,15e3)):s=!1,null==i.mtid){e.jumpTo(4);break}if(void 0===Ce[i.mtid])return e.yield(ce(),5);e.jumpTo(5);break;case 5:r=void 0!==Ce[i.mtid]?Ce[i.mtid].average_credits||0:void 0,Be=c(r,s),(he.credits.setting.value&&he.credits.missionlist.text.value||he.credits.setting.value&&he.credits.missionlist.label.value||he.credits.setting.value&&he.credits.missionlist.textAfter.value||he.credits.setting.value&&he.credits.missionlist.labelAfter.value)&&(null!=f("creditsmissionlist_"+i.id)?he.credits.missionlist.text.value||he.credits.missionlist.textAfter.value?$(f("creditsmissionlist_"+i.id)).html(Be):(he.credits.missionlist.label.value||he.credits.missionlist.labelAfter.value)&&(He=h(r),Be='<span class="label '+He+"\"> <span id='html_str'>"+Be+"</span></span>",$(f("creditsmissionlist_"+i.id)).html(Be)):(he.credits.missionlist.text.value&&(n=A("div","creditsmissionlist_"+i.id,"creditsmissionlist",Be),t=f("mission_"+i.id).firstElementChild.childNodes,t[1].firstElementChild.childNodes[1].firstElementChild.after(n)),he.credits.missionlist.label.value&&(He=h(r),t=A("h4","creditsmissionlist_"+i.id,"creditsmissionlist",'<span class="label '+He+"\"> <span id='html_str'>"+Be+"</span></span>"),n=f("mission_"+i.id).firstElementChild.childNodes,n[1].firstElementChild.childNodes[1].firstElementChild.after(t)),he.credits.missionlist.textAfter.value&&(l=A("div","creditsmissionlist_"+i.id,"creditsmissionlist pull-right",Be),f("mission_"+i.id).firstElementChild.childNodes[0].append(l)),he.credits.missionlist.labelAfter.value&&(He=h(r),l=A("div","creditsmissionlist_"+i.id,"creditsmissionlist pull-right",'<span class="label '+He+"\"> <span id='html_str'>"+Be+"</span></span>"),f("mission_"+i.id).firstElementChild.childNodes[0].append(l)))),r>=he.alliance.value.value&&he.alliance.setting.value&&he.alliance.missionlist.value&&(null!=f("creditsmissionlistlabel_TEAM_"+i.id)?he.alliance.color.value?he.alliance.color.value&&(He=h(r),a='<span class="label '+He+"\"> <span id='html_str'>"+fe.LabelAlliance+"</span></span>",$(f("creditsmissionlistlabel_TEAM_"+i.id)).html(a)):(o="<span class=\"label label-danger\"> <span id='html_str'>"+fe.LabelAlliance+"</span></span>",$(f("creditsmissionlistlabel_TEAM_"+i.id)).html(o)):(he.alliance.color.value||(a=A("h4","creditsmissionlistlabel_TEAM_"+i.id,"creditsmissionlistlabelTEAM","<span class=\"label label-danger\"> <span id='html_str'>"+fe.LabelAlliance+"</span></span>"),o=f("mission_"+i.id).firstElementChild.childNodes,o[1].firstElementChild.childNodes[1].firstElementChild.after(a)),he.alliance.color.value&&(He=h(r),d=A("h4","creditsmissionlistlabel_TEAM_"+i.id,"creditsmissionlistlabelTEAM",'<span class="label '+He+"\"> <span id='html_str'>"+fe.LabelAlliance+"</span></span>"),r=f("mission_"+i.id).firstElementChild.childNodes,r[1].firstElementChild.childNodes[1].firstElementChild.after(d))));case 4:e.leaveTryBlock(0);break;case 2:d=e.enterCatchBlock(),console.error(d.message," > Scripts-MKS "+O()+C()+" > mutationsCreditsMissionlist"),S(d.message,"mutationsCreditsMissionlist",!0,!1),e.jumpToEnd()}})},pe=function(){var i;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:if(void 0===m)return e.yield($.getJSON("/api/credits"),3);e.jumpTo(2);break;case 3:i=e.yieldResult,m=i.user_name,p=i.user_id;case 2:if(he.general.telemetry.deletedata.value)return e.yield($.getJSON("https://scripts-mks.firebaseio.com/deleteData/"+I18n.locale+"/"+p+"_"+m.replace(/[^a-z0-9_-]/gi,"_")+".json"),5);e.jumpTo(0);break;case 5:e.yieldResult?(he.general.telemetry.deletedata.value=!1,me(),alert("Scripts-MKS\n"+O()+C()+a),fetch("https://scripts-mks.firebaseio.com/deleteData/"+I18n.locale+"/"+p+"_"+m.replace(/[^a-z0-9_-]/gi,"_")+".json",{method:"DELETE"})):setTimeout(pe,36e5),e.jumpToEnd()}})},he={settingVersion:{type:"hidden",old:"",default:"1.19",value:"1.19"},releasenotes:{type:"hidden",old:"releasenotes",default:"0",value:"0"},general:{type:"category",setting:{type:"hidden",old:"",location:"general",default:!0,value:!0},HideAlarmNextShare:{type:"toggle",old:"HideAlarmNextShare_setting",location:"general",default:!(me=function(){try{var n={};Object.entries(he).forEach(function(t){["category","subcategory","sub-subcategory"].includes(t[1].type)?Object.entries(t[1]).forEach(function(s){["category","subcategory","sub-subcategory"].includes(s[1].type)?Object.entries(s[1]).forEach(function(i){["category","subcategory","sub-subcategory"].includes(i[1].type)?Object.entries(i[1]).forEach(function(e){n[t[0]+"."+s[0]+"."+i[0]+"."+e[0]]=e[1].value}):n[t[0]+"."+s[0]+"."+i[0]]=i[1].value}):n[t[0]+"."+s[0]]=s[1].value}):n[""+t[0]]=t[1].value}),localStorage.setItem("LSS_Scripts_MKS_Settings_"+user_id,JSON.stringify(n))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > setSettings"),S(e.message,"setSettings",!0,!1)}}),value:!(ue=function(){try{var e,i;localStorage.Scripts_MKS_DoubleCreditsEvent?$(f("event-info-block")).hasClass("credit-modifier-event")&&(e=$(f("event-info-block")).find(".timer")[0].getAttribute("data-end-time"),localStorage.setItem("Scripts_MKS_DoubleCreditsEvent",parseInt(e))):$(f("event-info-block")).hasClass("credit-modifier-event")&&(i=$(f("event-info-block")).find(".timer")[0].getAttribute("data-end-time"),localStorage.setItem("Scripts_MKS_DoubleCreditsEvent",parseInt(i)),(he.credits.setting.value&&he.credits.missionlist.label.value||he.credits.setting.value&&he.credits.missionlist.text.value||he.credits.setting.value&&he.credits.missionlist.labelAfter.value||he.credits.setting.value&&he.credits.missionlist.textAfter.value)&&le(),he.credits.setting.value&&he.credits.remainingCredits.setting.value&&se())}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > doublecreditsevent"),S(e.message,"doublecreditsevent",!0,!1)}}),dependence:["general.HideAlarmNextShareOnlyupper"],On:function(){},Off:function(){}},HideAlarmNextShareOnlyupper:{type:"toggle",old:"HideAlarmNextShare_onlyupper_setting",location:"general",default:!(ce=function(){try{return new Promise(function(s){Oe<(new Date).getTime()-29e3?(Oe=(new Date).getTime(),$.ajax({url:"/einsaetze.json",method:"GET",success:function(e){e.forEach(function(e){Ce[e.id]=e}),localStorage.Scripts_MKS_requirements=JSON.stringify(Ce),s(Ce)},error:function(){setTimeout(function(){var i;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){return 1==e.nextAddress?e.yield(ce(),2):(i=e.yieldResult,s(i),void e.jumpToEnd())})},3e4)}})):s("")})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > getRequirements"),S(e.message,"getRequirements",!0,!1)}}),value:!(de=function(){try{return new Promise(function(i){$.ajax({url:"/mission_positions",method:"GET",error:function(){try{alert("Scripts-MKS\n"+O()+C()+"Loading own POI failed"),f("HidePOI").text(fe.HideMap_POI_Hide_POI_Translation),f("ShowPOI").text(fe.HideMap_POI_Show_POI_Translation)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > getmission_positions > error"),S(e.message,"getmission_positions > error",!0,!1)}}}).done(function(e){i(e)})})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > getmission_positions"),S(e.message,"getmission_positions",!0,!1)}}),On:function(){},Off:function(){}},toplist:{type:"toggle",old:"ToplistRank_setting",location:"general",default:!(re=function(e){try{return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > beautifyCredits"),S(e.message,"beautifyCredits",!0,!1)}}),value:!(oe=function(e){xe.observe(e[0],{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]})}),On:function(){r(),s=setTimeout(o,5e3)},Off:function(){$(f("user_toplist_position_script_MKS_li")).remove(),clearTimeout(s)}},telemetry:{type:"subcategory",setting:{type:"toggle",old:"telemetry",location:"general.telemetry",default:"0",value:!0,On:function(e){he.general.telemetry.setting.value=confirm("Scripts-MKS\n"+O()+C()+fe.data_collection_areyousure_optin_Menu_Translation),he.general.telemetry.setting.value&&(S("",e?"Reset!":"Nieuwe gebruiker!",!1,!0),S("","",!1,!1)),f("general.telemetry.settingsetting-checkbox").checked=he.general.telemetry.setting.value},Off:function(){he.general.telemetry.setting.value=!confirm("Scripts-MKS\n"+O()+C()+fe.data_collection_areyousure_optout_Menu_Translation),he.general.telemetry.setting.value||S("","Uitgeschreven",!1,!0),f("general.telemetry.settingsetting-checkbox").checked=he.general.telemetry.setting.value}},deletedata:{type:"toggle",old:"deletedata",location:"general.telemetry",default:!(ie=function(){try{(he.general.HideAlarmNextShareOnlyupper.value?$(f("dispatch_buttons")).find(".alert_next_alliance"):$(".alert_next_alliance")).addClass("hidden")}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > HideAlarmNextShare Function"),S(e.message,"HideAlarmNextShare",!0,!1)}}),value:!(ee=function(){try{"/"===window.location.pathname&&"undefined"==typeof mapkit&&map&&map.on("moveend",function(){he.hideMap.vehicles.allOwn.value&&he.hideMap.setting.value&&J(),he.hideMap.vehicles.allAlliance.value&&he.hideMap.setting.value&&V(),he.hideMap.vehicles.notInvolvedOwn.value&&he.hideMap.setting.value&&F()})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > markerListener"),S(e.message,"markerListener",!0,!1)}}),On:function(){he.general.telemetry.deletedata.value=confirm("Scripts-MKS\n"+O()+C()+fe.data_collection_areyousure_delete_Menu_Translation),he.general.telemetry.deletedata.value&&(S("","deletedata",!1,!0),pe()),f("general.telemetry.deletedatasetting-checkbox").checked=he.general.telemetry.deletedata.value},Off:function(){he.general.telemetry.deletedata.value=!confirm("Scripts-MKS\n"+O()+C()+fe.data_collection_areyousure_withdraw_Menu_Translation),he.general.telemetry.deletedata.value||S("","withdrawdeletedata",!1,!0),f("general.telemetry.deletedatasetting-checkbox").checked=he.general.telemetry.deletedata.value}}}},credits:{type:"category",setting:{type:"module",old:"Credits_setting",location:"credits",default:!(Q=function(e){try{if(e){var i,s,t,n,l,a,o,r,d,c,u,p,m,h,v,g,f,b,_=e.id,M=e.icon;switch(e.user_id){case null:he.hideMap.setting.value&&he.hideMap.missions.event.red.value&&M.includes("rot")?(i=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.removeLayer(i):he.hideMap.setting.value&&he.hideMap.missions.event.yellow.value&&M.includes("gelb")?(s=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.removeLayer(s):he.hideMap.setting.value&&he.hideMap.missions.event.green.value&&M.includes("gruen")?(t=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.removeLayer(t):he.hideMap.setting.value&&!he.hideMap.missions.event.red.value&&he.hideMap.missions.event.yellow.value&&M.includes("rot")||he.hideMap.setting.value&&!he.hideMap.missions.event.red.value&&he.hideMap.missions.event.green.value&&M.includes("rot")?(n=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.addLayer(n):he.hideMap.setting.value&&!he.hideMap.missions.event.yellow.value&&he.hideMap.missions.event.red.value&&M.includes("gelb")||he.hideMap.setting.value&&!he.hideMap.missions.event.yellow.value&&he.hideMap.missions.event.green.value&&M.includes("gelb")?(l=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.addLayer(l):!(he.hideMap.setting.value&&!he.hideMap.missions.event.green.value&&he.hideMap.missions.event.yellow.value&&M.includes("gruen")||he.hideMap.setting.value&&!he.hideMap.missions.event.green.value&&he.hideMap.missions.event.red.value&&M.includes("gruen"))||(a=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.addLayer(a);break;case user_id:he.hideMap.setting.value&&he.hideMap.missions.own.red.value&&M.includes("rot")?(o=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.removeLayer(o):he.hideMap.setting.value&&he.hideMap.missions.own.yellow.value&&M.includes("gelb")?(r=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.removeLayer(r):he.hideMap.setting.value&&he.hideMap.missions.own.green.value&&M.includes("gruen")?(d=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.removeLayer(d):he.hideMap.setting.value&&!he.hideMap.missions.own.red.value&&he.hideMap.missions.own.yellow.value&&M.includes("rot")||he.hideMap.setting.value&&!he.hideMap.missions.own.red.value&&he.hideMap.missions.own.green.value&&M.includes("rot")?(c=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.addLayer(c):he.hideMap.setting.value&&!he.hideMap.missions.own.yellow.value&&he.hideMap.missions.own.red.value&&M.includes("gelb")||he.hideMap.setting.value&&!he.hideMap.missions.own.yellow.value&&he.hideMap.missions.own.green.value&&M.includes("gelb")?(u=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.addLayer(u):!(he.hideMap.setting.value&&!he.hideMap.missions.own.green.value&&he.hideMap.missions.own.yellow.value&&M.includes("gruen")||he.hideMap.setting.value&&!he.hideMap.missions.own.green.value&&he.hideMap.missions.own.red.value&&M.includes("gruen"))||(p=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.addLayer(p);break;default:he.hideMap.setting.value&&he.hideMap.missions.alliance.red.value&&M.includes("rot")?(m=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.removeLayer(m):he.hideMap.setting.value&&he.hideMap.missions.alliance.yellow.value&&M.includes("gelb")?(h=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.removeLayer(h):he.hideMap.setting.value&&he.hideMap.missions.alliance.green.value&&M.includes("gruen")?(v=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.removeLayer(v):he.hideMap.setting.value&&!he.hideMap.missions.alliance.red.value&&he.hideMap.missions.alliance.yellow.value&&M.includes("rot")||he.hideMap.setting.value&&!he.hideMap.missions.alliance.red.value&&he.hideMap.missions.alliance.green.value&&M.includes("rot")?(g=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.addLayer(g):he.hideMap.setting.value&&!he.hideMap.missions.alliance.yellow.value&&he.hideMap.missions.alliance.red.value&&M.includes("gelb")||he.hideMap.setting.value&&!he.hideMap.missions.alliance.yellow.value&&he.hideMap.missions.alliance.green.value&&M.includes("gelb")?(f=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.addLayer(f):!(he.hideMap.setting.value&&!he.hideMap.missions.alliance.green.value&&he.hideMap.missions.alliance.yellow.value&&M.includes("gruen")||he.hideMap.setting.value&&!he.hideMap.missions.alliance.green.value&&he.hideMap.missions.alliance.red.value&&M.includes("gruen"))||(b=mission_markers.filter(function(e){return e.mission_id==_})[0])&&map.addLayer(b)}}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > HideMissionByState"),S(e.message,"HideMissionByState",!0,!1)}}),value:!(Z=function(s){try{mission_markers.forEach(function(e){var i=e.options.icon.options.iconUrl;switch(e.user_id){case null:he.hideMap.setting.value&&he.hideMap.missions.event.red.value&&i.includes("rot")||he.hideMap.setting.value&&he.hideMap.missions.event.red.value&&i.includes("red_images")||he.hideMap.setting.value&&he.hideMap.missions.event.yellow.value&&i.includes("gelb")||he.hideMap.setting.value&&he.hideMap.missions.event.yellow.value&&i.includes("yellow_images")||he.hideMap.setting.value&&he.hideMap.missions.event.green.value&&i.includes("gruen")||he.hideMap.setting.value&&he.hideMap.missions.event.green.value&&i.includes("green_images")?e&&map.removeLayer(e):("event"==s||"all"==s&&he.hideMap.missions.event.red.value||"all"==s&&he.hideMap.missions.event.yellow.value||"all"==s&&he.hideMap.missions.event.green.value)&&e&&map.addLayer(e);break;case user_id:he.hideMap.setting.value&&he.hideMap.missions.own.red.value&&i.includes("rot")||he.hideMap.setting.value&&he.hideMap.missions.own.red.value&&i.includes("red_images")||he.hideMap.setting.value&&he.hideMap.missions.own.yellow.value&&i.includes("gelb")||he.hideMap.setting.value&&he.hideMap.missions.own.yellow.value&&i.includes("yellow_images")||he.hideMap.setting.value&&he.hideMap.missions.own.green.value&&i.includes("gruen")||he.hideMap.setting.value&&he.hideMap.missions.own.green.value&&i.includes("green_images")?e&&map.removeLayer(e):("own"==s||"all"==s&&he.hideMap.missions.own.red.value||"all"==s&&he.hideMap.missions.own.yellow.value||"all"==s&&he.hideMap.missions.own.green.value)&&e&&map.addLayer(e);break;default:he.hideMap.setting.value&&he.hideMap.missions.alliance.red.value&&i.includes("rot")||he.hideMap.setting.value&&he.hideMap.missions.alliance.red.value&&i.includes("red_images")||he.hideMap.setting.value&&he.hideMap.missions.alliance.yellow.value&&i.includes("gelb")||he.hideMap.setting.value&&he.hideMap.missions.alliance.yellow.value&&i.includes("yellow_images")||he.hideMap.setting.value&&he.hideMap.missions.alliance.green.value&&i.includes("gruen")||he.hideMap.setting.value&&he.hideMap.missions.alliance.green.value&&i.includes("green_images")?e&&map.removeLayer(e):("alliance"==s||"all"==s&&he.hideMap.missions.alliance.red.value||"all"==s&&he.hideMap.missions.alliance.yellow.value||"all"==s&&he.hideMap.missions.alliance.green.value)&&e&&map.addLayer(e)}})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initHideMissionByState"),S(e.message,"initHideMissionByState",!0,!1)}}),On:function(){(he.credits.missionlist.label.value||he.credits.missionlist.text.value||he.credits.missionlist.labelAfter.value||he.credits.missionlist.textAfter.value)&&le(),he.credits.remainingCredits.setting.value&&te()},Off:function(){$(".creditsmissionlist").remove(),$(f("RemainingCreditsText")).remove()}},DoubleCreditsEvent:{type:"toggle",old:"DoubleCreditsEvent_setting",location:"credits",default:!0,value:!0,On:function(){(he.credits.missionlist.label.value||he.credits.missionlist.text.value||he.credits.missionlist.labelAfter.value||he.credits.missionlist.textAfter.value)&&le(),he.credits.remainingCredits.setting.value&&se()},Off:function(){(he.credits.missionlist.label.value||he.credits.missionlist.text.value||he.credits.missionlist.labelAfter.value||he.credits.missionlist.textAfter.value)&&le(),he.credits.remainingCredits.setting.value&&se()}},missionlist:{type:"subcategory",label:{type:"toggle",old:"Missionlistlabel_setting",location:"credits.missionlist",default:!(X=function(e){try{var i,s,t,n;e&&e.user_id==user_id&&(i=e.id,s=f("mission_panel_"+i).classList.contains("panel-success"),he.hideMap.setting.value&&he.hideMap.missions.own.shared.value&&s||he.hideMap.missions.own.notShared.value&&he.hideMap.setting.value&&!s?(t=mission_markers.filter(function(e){return e.mission_id==i})[0])&&map.removeLayer(t):!(he.hideMap.setting.value&&!he.hideMap.missions.own.shared.value&&he.hideMap.missions.own.notShared.value&&s||he.hideMap.setting.value&&he.hideMap.missions.own.shared.value&&!he.hideMap.missions.own.notShared.value&&!s)||(n=mission_markers.filter(function(e){return e.mission_id==i})[0])&&map.addLayer(n))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > HideShareNotSharedMission"),S(e.message,"HideShareNotSharedMission",!0,!1)}}),value:!(Y=function(s){try{mission_markers.forEach(function(e){var i;e.user_id==user_id&&(i=f("mission_panel_"+e.mission_id).classList.contains("panel-success"),he.hideMap.setting.value&&he.hideMap.missions.own.shared.value&&i||he.hideMap.setting.value&&he.hideMap.missions.own.notShared.value&&!i?e&&map.removeLayer(e):("all"==s&&he.hideMap.missions.own.shared.value||"all"==s&&he.hideMap.missions.own.notShared.value||"load"==s&&he.hideMap.setting.value&&!he.hideMap.missions.own.shared.value&&i||"load"==s&&!he.hideMap.missions.own.notShared.value&&!i||"shared"==s||"not"==s)&&e&&map.addLayer(e))})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initHideinvolvedMission"),S(e.message,"initHideinvolvedMission",!0,!1)}}),conflict:["credits.missionlist.text","credits.missionlist.textAfter","credits.missionlist.labelAfter"],On:function(){le()},Off:function(){$(".creditsmissionlist").remove()}},text:{type:"toggle",old:"Missionlisttext_setting",location:"credits.missionlist",default:!(W=function(e){try{if(e){var i,s,t,n,l,a,o=e.id,r=f("mission_participant_new_"+o).classList.contains("hidden");switch(e.user_id){case null:he.hideMap.setting.value&&he.hideMap.missions.event.involved.value&&r?(i=mission_markers.filter(function(e){return e.mission_id==o})[0])&&map.removeLayer(i):!he.hideMap.setting.value||!he.hideMap.missions.event.involved.value||r||(s=mission_markers.filter(function(e){return e.mission_id==o})[0])&&map.addLayer(s);break;case user_id:he.hideMap.setting.value&&he.hideMap.missions.own.involved.value&&r?(t=mission_markers.filter(function(e){return e.mission_id==o})[0])&&map.removeLayer(t):!he.hideMap.setting.value||!he.hideMap.missions.own.involved.value||r||(n=mission_markers.filter(function(e){return e.mission_id==o})[0])&&map.addLayer(n);break;default:he.hideMap.setting.value&&he.hideMap.missions.alliance.involved.value&&r?(l=mission_markers.filter(function(e){return e.mission_id==o})[0])&&map.removeLayer(l):!he.hideMap.setting.value||!he.hideMap.missions.alliance.involved.value||r||(a=mission_markers.filter(function(e){return e.mission_id==o})[0])&&map.addLayer(a)}}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > HideinvolvedMission"),S(e.message,"HideinvolvedMission",!0,!1)}}),value:!(q=function(s){try{mission_markers.forEach(function(e){var i=f("mission_participant_new_"+e.mission_id).classList.contains("hidden");switch(e.user_id){case null:he.hideMap.setting.value&&he.hideMap.missions.event.involved.value&&i?e&&map.removeLayer(e):("all"==s&&he.hideMap.missions.event.involved.value||"load"==s&&he.hideMap.missions.event.involved.value||"event"==s)&&e&&map.addLayer(e);break;case user_id:he.hideMap.setting.value&&he.hideMap.missions.own.involved.value&&i?e&&map.removeLayer(e):("all"==s&&he.hideMap.missions.own.involved.value||"load"==s&&he.hideMap.missions.own.involved.value||"own"==s)&&e&&map.addLayer(e);break;default:he.hideMap.setting.value&&he.hideMap.missions.alliance.involved.value&&i?e&&map.removeLayer(e):("all"==s&&he.hideMap.missions.alliance.involved.value||"load"==s&&he.hideMap.missions.alliance.involved.value||"alliance"==s)&&e&&map.addLayer(e)}})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initHideinvolvedMission"),S(e.message,"initHideinvolvedMission",!0,!1)}}),conflict:["credits.missionlist.label","credits.missionlist.textAfter","credits.missionlist.labelAfter"],On:function(){le()},Off:function(){$(".creditsmissionlist").remove()}},labelAfter:{type:"toggle",old:"Missionlistlabelafter_setting",location:"credits.missionlist",default:!(J=function(){try{if(he.hideMap.vehicles.allOwn.value&&he.hideMap.setting.value)for(var e=vehicle_markers.length-1;0<=e;e--)vehicle_markers[e].user_id==user_id&&(map.removeLayer(vehicle_markers[e]),route_show&&map.removeLayer(vehicle_markers[e].polyline))}catch(e){console.error(e.message," > Scripts-MS "+O()+C()+" > removeAllOwnVehicles"),S(e.message,"removeAllOwnVehicles",!0,!1)}}),value:!(z=function(){try{for(var e=vehicle_markers.length-1;0<=e;e--)vehicle_markers[e].user_id!=user_id||vehicle_markers[e].vehicle_marker_deleted||(map.addLayer(vehicle_markers[e]),route_show&&map.addLayer(vehicle_markers[e].polyline))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addAllOwnVehicles"),S(e.message,"addAllOwnVehicles",!0,!1)}}),conflict:["credits.missionlist.text","credits.missionlist.textAfter","credits.missionlist.label"],On:function(){le()},Off:function(){$(".creditsmissionlist").remove()}},textAfter:{type:"toggle",old:"Missionlisttextafter_setting",location:"credits.missionlist",default:!(V=function(){try{if(he.hideMap.vehicles.allAlliance.value&&he.hideMap.setting.value)for(var e=vehicle_markers.length-1;0<=e;e--)vehicle_markers[e].user_id!=user_id&&(map.removeLayer(vehicle_markers[e]),route_show&&map.removeLayer(vehicle_markers[e].polyline))}catch(e){}}),value:!(U=function(){try{for(var e=vehicle_markers.length-1;0<=e;e--)vehicle_markers[e].user_id==user_id||vehicle_markers[e].vehicle_marker_deleted||(map.addLayer(vehicle_markers[e]),route_show&&map.addLayer(vehicle_markers[e].polyline))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addAllAllianceVehicles"),S(e.message,"addAllAllianceVehicles",!0,!1)}}),conflict:["credits.missionlist.text","credits.missionlist.label","credits.missionlist.labelAfter"],On:function(){le()},Off:function(){$(".creditsmissionlist").remove()}}},missionheader:{type:"subcategory",label:{type:"toggle",old:"Missionheaderlabel_setting",location:"credits.missionheader",default:!(F=function(){try{if(he.hideMap.vehicles.notInvolvedOwn.value&&he.hideMap.setting.value)for(var e=vehicle_markers.length-1;0<=e;e--)(vehicle_markers[e].user_id==user_id&&vehicle_markers[e]._tooltip._content.includes("fms_1")||vehicle_markers[e].user_id==user_id&&vehicle_markers[e]._tooltip._content.includes("fms_6"))&&(map.removeLayer(vehicle_markers[e]),route_show&&map.removeLayer(vehicle_markers[e].polyline)),(vehicle_markers[e].user_id==user_id&&vehicle_markers[e]._tooltip._content.includes("fms_3")&&!vehicle_markers[e].vehicle_marker_deleted||vehicle_markers[e].user_id==user_id&&vehicle_markers[e]._tooltip._content.includes("fms_8")&&!vehicle_markers[e].vehicle_marker_deleted)&&(map.addLayer(vehicle_markers[e]),route_show&&map.addLayer(vehicle_markers[e].polyline))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeAllOwnNotInvolvedVehicles"),S(e.message,"removeAllOwnNotInvolvedVehicles",!0,!1)}}),value:!(G=function(){try{if("undefined"==typeof mapkit)for(var e=vehicle_markers.length-1;0<=e;e--)(vehicle_markers[e].user_id==user_id&&!vehicle_markers[e].vehicle_marker_deleted&&vehicle_markers[e]._tooltip._content.includes("fms_1")||vehicle_markers[e].user_id==user_id&&!vehicle_markers[e].vehicle_marker_deleted&&vehicle_markers[e]._tooltip._content.includes("fms_6"))&&(map.addLayer(vehicle_markers[e]),route_show&&map.addLayer(vehicle_markers[e].polyline))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addAllOwnNotInvolvedVehicles"),S(e.message,"addAllOwnNotInvolvedVehicles",!0,!1)}}),conflict:["credits.missionheader.text"],On:function(){},Off:function(){}},text:{type:"toggle",old:"Missionheadertext_setting",location:"credits.missionheader",default:!(R=function(){try{t=setTimeout(R,2e4);var s="";$.get("/mission_positions/new",function(e){e=$(e).find("#mission_position_poi_type").find("option"),$.each(e,function(e,i){s+='<option value="'+i.innerHTML+'">'+i.innerHTML+"</option>"}),clearTimeout(t),D(s)})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > getPOIs "),S(e.message,"getPOIs",!0,!1)}}),value:!(D=function(e){try{var i=$(".app-pois-filter")[0].parentElement.parentElement.firstChild.checked?fe.HideMap_POI_POI_Off_Translation:fe.HideMap_POI_POI_On_Translation;$('<div id="POI_filter_Scripts-MKS" class="col-sm-4 overview_outer fadeIn animated" style="bottom: 0px; right: 0px; width: 400px; height: 200px; z-index: 9999 !important; position: absolute; padding-right: 0px; padding-bottom: 0px;"><div id="POIFILTER" class="sidebar-nav"><div class="panel panel-default"><div class="panel-heading big_map_window_head ui-draggable-handle" id="poifilter_panel_heading">'+fe.HideMap_POI_Header_Translation+'<span style="align"</div><div class="panel-body" id="poifilter_panel_body" style="height: 168px;"></div></div></div>').appendTo($(".leaflet-control-container .leaflet-bottom.leaflet-right")),$(".leaflet-control-container .leaflet-bottom.leaflet-right").css("z-index","9998").css("pointer-events","auto"),$(f("poifilter_panel_body")).append('<div id="POIdiv"><h4>'+fe.HideMap_POI_Choose_POI_Translation+'</h4><select class="select required form-control" id="POILIST" name="POILIST"><option value="'+fe.HideMap_POI_All_Translation+'">'+fe.HideMap_POI_All_Translation+"</option>"+e+"</select></div>"),$(f("poifilter_panel_body")).append('<br><div id="TextPOIbtn"><span>'+fe.HideMap_POI_WarningPOIFilterOn_Translation+'</span>&nbsp;&nbsp;<div class="btn btn-xs btn-danger" id="GamePOI">'+i+'</div></div><div class="btn-group"><h4><div class="btn btn-xs btn-danger" id="HidePOI"><b>'+fe.HideMap_POI_Hide_POI_Translation+'</b></div>&nbsp;&nbsp;<div class="btn btn-xs btn-success" id="ShowPOI"><b>'+fe.HideMap_POI_Show_POI_Translation+'</b></div>&nbsp&nbsp<div id="ClosePOIFilter" class="btn btn-xs btn-default">'+fe.HideMap_POI_Close_Translation+"</div></h4></div>"),$(".app-pois-filter")[0].parentElement.parentElement.firstChild.checked?$(f("GamePOI")).text(fe.HideMap_POI_POI_Off_Translation).addClass("btn-danger").removeClass("btn-success")&&$(f("HidePOI")).show()&&$(f("ShowPOI")).show()&&$(f("POIdiv")).show():$(f("GamePOI")).text(fe.HideMap_POI_POI_On_Translation).addClass("btn-success").removeClass("btn-danger")&&$(f("HidePOI")).hide()&&$(f("ShowPOI")).hide()&&$(f("POIdiv")).hide(),$(f("HidePOI")).click(function(){try{$(f("HidePOI")).text(fe.HideMap_POI_Working_Translation),N()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > Button HidePOI"),S(e.message,"Button HidePOI",!0,!1)}return!1}),$(f("ShowPOI")).click(function(){try{$(f("ShowPOI")).text(fe.HideMap_POI_Working_Translation),H()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > Button ShowPOI"),S(e.message,"Button ShowPOI",!0,!1)}return!1}),$(f("GamePOI")).click(function(){try{$(".app-pois-filter")[0].parentElement.parentElement.firstChild.click(),$(".app-pois-filter")[0].parentElement.parentElement.firstChild.checked?$(f("GamePOI")).text(fe.HideMap_POI_POI_Off_Translation).addClass("btn-danger").removeClass("btn-success")&&$(f("HidePOI")).show()&&$(f("ShowPOI")).show()&&$(f("POIdiv")).show():$(f("GamePOI")).text(fe.HideMap_POI_POI_On_Translation).addClass("btn-success").removeClass("btn-danger")&&$(f("HidePOI")).hide()&&$(f("ShowPOI")).hide()&&$(f("POIdiv")).hide()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > Button GamePOI"),S(e.message,"Button GamePOI",!0,!1)}}),$(f("ClosePOIFilter")).click(function(){try{$(f("POI_filter_Scripts-MKS")).remove(),he.hideMap.poi.poi.value=!1}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > Button ClosePOIFilter"),S(e.message,"Button ClosePOIFilter",!0,!1)}})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initPOI"),S(e.message,"initPOI",!0,!1)}}),conflict:["credits.missionheader.label"],On:function(){},Off:function(){}}},remainingCredits:{type:"subcategory",setting:{type:"toggle",old:"RemainingCredits_setting",location:"credits.remainingCredits",default:!(B=function(){try{if(he.hideMissionlist.setting.value&&he.hideMissionlist.own.all.value){var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id==user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&$(f("mission_"+e[s].getAttribute("mission_id"))).addClass("hidden")}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeAllOwnmissionsMissionlist"),S(e.message,"removeAllOwnmissionsMissionlist",!0,!1)}}),value:!(K=function(){try{var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id==user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&$(f("mission_"+e[s].getAttribute("mission_id"))).removeClass("hidden")}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addAllOwnmissionsMissionlist"),S(e.message,"addAllOwnmissionsMissionlist",!0,!1)}}),dependence:["credits.remainingCredits.total"],On:function(){te()},Off:function(){$(f("RemainingCreditsText")).remove()}},total:{type:"toggle",old:"RemainingCreditsTotal_setting",location:"credits.remainingCredits",default:!(P=function(){try{if(he.hideMissionlist.setting.value&&he.hideMissionlist.own.involved.value||he.hideMissionlist.setting.value&&he.hideMissionlist.own.notInvolved.value){var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id==user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&($(f("mission_participant_new_"+e[s].getAttribute("mission_id"))).hasClass("hidden")&&he.hideMissionlist.own.involved.value&&$(f("mission_"+e[s].getAttribute("mission_id"))).addClass("hiddenInvolved"),$(f("mission_participant_new_"+e[s].getAttribute("mission_id"))).hasClass("hidden")&&he.hideMissionlist.own.notInvolved.value&&!he.hideMissionlist.own.involved.value&&$(f("mission_"+e[s].getAttribute("mission_id"))).removeClass("hiddenInvolved"),$(f("mission_participant_"+e[s].getAttribute("mission_id"))).hasClass("hidden")&&he.hideMissionlist.own.notInvolved.value&&$(f("mission_"+e[s].getAttribute("mission_id"))).addClass("hiddenInvolved"))}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeInvolvedOwnmissionsMissionlist"),S(e.message,"removeInvolvedOwnmissionsMissionlist",!0,!1)}}),value:!(j=function(e){try{var i=$(".missionSideBarEntry"),s=[];mission_markers.forEach(function(e){e.user_id==user_id&&s.push(e.mission_id)});for(var t=0;t<i.length;t++)-1!=s.indexOf(parseInt(i[t].getAttribute("mission_id")))&&($(f("mission_participant_new_"+i[t].getAttribute("mission_id"))).hasClass("hidden")&&"involved"==e&&$(f("mission_"+i[t].getAttribute("mission_id"))).removeClass("hiddenInvolved"),$(f("mission_participant_"+i[t].getAttribute("mission_id"))).hasClass("hidden")&&"not"==e&&$(f("mission_"+i[t].getAttribute("mission_id"))).removeClass("hiddenInvolved"))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addInvolvedOwnmissionsMissionlist"),S(e.message,"addInvolvedOwnmissionsMissionlist",!0,!1)}}),On:function(){se()},Off:function(){se()}}},labels:{type:"subcategory",blue:{type:"number",old:"",location:"credits.labels",default:1,value:1,fun:function(){(he.alliance.setting.value&&he.alliance.missionlist.value||he.credits.missionlist.label.value||he.credits.missionlist.text.value||he.credits.missionlist.labelAfter.value||he.credits.missionlist.textAfter.value)&&le(),he.hideMissionlist.setting.value&&he.hideMissionlist.labelColor.setting.value&&(he.hideMissionlist.labelColor.event.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value||he.hideMissionlist.labelColor.own.red.value||he.hideMissionlist.labelColor.own.green.value||he.hideMissionlist.labelColor.own.darkBlue.value||he.hideMissionlist.labelColor.own.lightBlue.value||he.hideMissionlist.labelColor.own.yellow.value||he.hideMissionlist.labelColor.alliance.red.value||he.hideMissionlist.labelColor.alliance.green.value||he.hideMissionlist.labelColor.alliance.darkBlue.value||he.hideMissionlist.labelColor.alliance.lightBlue.value||he.hideMissionlist.labelColor.alliance.yellow.value)&&y()}},green:{type:"number",old:"CreditsLabelGreen_setting",location:"credits.labels",default:4500,value:4500,fun:function(){(he.alliance.setting.value&&he.alliance.missionlist.value||he.credits.missionlist.label.value||he.credits.missionlist.text.value||he.credits.missionlist.labelAfter.value||he.credits.missionlist.textAfter.value)&&le(),he.hideMissionlist.setting.value&&he.hideMissionlist.labelColor.setting.value&&(he.hideMissionlist.labelColor.event.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value||he.hideMissionlist.labelColor.own.red.value||he.hideMissionlist.labelColor.own.green.value||he.hideMissionlist.labelColor.own.darkBlue.value||he.hideMissionlist.labelColor.own.lightBlue.value||he.hideMissionlist.labelColor.own.yellow.value||he.hideMissionlist.labelColor.alliance.red.value||he.hideMissionlist.labelColor.alliance.green.value||he.hideMissionlist.labelColor.alliance.darkBlue.value||he.hideMissionlist.labelColor.alliance.lightBlue.value||he.hideMissionlist.labelColor.alliance.yellow.value)&&y()}},red:{type:"number",old:"CreditsLabelRed_setting",location:"credits.labels",default:8e3,value:8e3,fun:function(){(he.alliance.setting.value&&he.alliance.missionlist.value||he.credits.missionlist.label.value||he.credits.missionlist.text.value||he.credits.missionlist.labelAfter.value||he.credits.missionlist.textAfter.value)&&le(),he.hideMissionlist.setting.value&&he.hideMissionlist.labelColor.setting.value&&(he.hideMissionlist.labelColor.event.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value||he.hideMissionlist.labelColor.own.red.value||he.hideMissionlist.labelColor.own.green.value||he.hideMissionlist.labelColor.own.darkBlue.value||he.hideMissionlist.labelColor.own.lightBlue.value||he.hideMissionlist.labelColor.own.yellow.value||he.hideMissionlist.labelColor.alliance.red.value||he.hideMissionlist.labelColor.alliance.green.value||he.hideMissionlist.labelColor.alliance.darkBlue.value||he.hideMissionlist.labelColor.alliance.lightBlue.value||he.hideMissionlist.labelColor.alliance.yellow.value)&&y()}}}},alliance:{type:"category",setting:{type:"module",old:"AllianceLabel_setting",location:"alliance",default:!(E=function(){try{if(he.hideMissionlist.setting.value&&he.hideMissionlist.own.shared.value){var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id==user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&$(f("mission_"+e[s].getAttribute("mission_id"))).children().hasClass("panel-success")&&$(f("mission_"+e[s].getAttribute("mission_id"))).addClass("hiddenShared")}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeSharedOwnmissionsMissionlist"),S(e.message,"removeSharedOwnmissionsMissionlist",!0,!1)}}),value:!(T=function(){try{var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id==user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&$(f("mission_"+e[s].getAttribute("mission_id"))).children().hasClass("panel-success")&&$(f("mission_"+e[s].getAttribute("mission_id"))).removeClass("hiddenShared")}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addSharedOwnmissionsMissionlist"),S(e.message,"addSharedOwnmissionsMissionlist",!0,!1)}}),On:function(){he.alliance.missionlist.value&&le(),he.alliance.count.value&&te()},Off:function(){$(".creditsmissionlistlabelTEAM").remove(),$(f("AllianceCountText")).remove()}},missionlist:{type:"toggle",old:"AllianceLabel_missionlist_setting",location:"alliance",default:!(L=function(){try{if(he.hideMissionlist.setting.value&&he.hideMissionlist.own.notShared.value){var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id==user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&($(f("mission_"+e[s].getAttribute("mission_id"))).children().hasClass("panel-success")||$(f("mission_"+e[s].getAttribute("mission_id"))).addClass("hiddenShared"))}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeNotSharedOwnmissionsMissionlist"),S(e.message,"removeNotSharedOwnmissionsMissionlist",!0,!1)}}),value:!(x=function(){try{var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id==user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&($(f("mission_"+e[s].getAttribute("mission_id"))).children().hasClass("panel-success")||$(f("mission_"+e[s].getAttribute("mission_id"))).removeClass("hiddenShared"))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addNotSharedOwnmissionsMissionlist"),S(e.message,"addNotSharedOwnmissionsMissionlist",!0,!1)}}),On:function(){le()},Off:function(){$(".creditsmissionlistlabelTEAM").remove()}},missionheader:{type:"toggle",old:"AllianceLabel_missionheader_setting",location:"alliance",default:!(I=function(){try{var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id==user_id&&i.push(e.mission_id)});for(var s,t=0;t<e.length;t++)-1!=i.indexOf(parseInt(e[t].getAttribute("mission_id")))&&he.hideMissionlist.setting.value&&he.hideMissionlist.own.alliance.value?(s=parseInt(e[t].getAttribute("mission_type_id"))||99999999999999,(void 0!==Ce[s]&&Ce[s].average_credits||0)<he.alliance.value.value?$(f("mission_"+e[t].getAttribute("mission_id"))).addClass("hiddencredits"):$(f("mission_"+e[t].getAttribute("mission_id"))).hasClass("hiddencredits")&&$(f("mission_"+e[t].getAttribute("mission_id"))).removeClass("hiddencredits")):$(f("mission_"+e[t].getAttribute("mission_id"))).hasClass("hiddencredits")&&$(f("mission_"+e[t].getAttribute("mission_id"))).removeClass("hiddencredits")}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > inithideNotAllianceOwnMissionsMissionlist"),S(e.message,"inithideNotAllianceOwnMissionsMissionlist",!0,!1)}}),value:!(w=function(e){try{var i;e.user_id==user_id&&(i=void 0!==Ce[e.mtid]&&Ce[e.mtid].average_credits||0,$(f("mission_"+e.id)).hasClass("hiddencredits")?i>=he.alliance.value.value&&he.hideMissionlist.setting.value&&he.hideMissionlist.own.alliance.value&&$(f("mission_"+e.id)).removeClass("hiddencredits"):i<he.alliance.value.value&&he.hideMissionlist.setting.value&&he.hideMissionlist.own.alliance.value&&$(f("mission_"+e.id)).addClass("hiddencredits"))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > hideNotAllianceOwnMissionsMissionlist"),S(e.message,"hideNotAllianceOwnMissionsMissionlist",!0,!1)}}),On:function(){},Off:function(){}},value:{type:"number",old:"AllianceLabel_Value_setting",location:"alliance",default:3e3,value:3e3,fun:function(){he.alliance.count.value&&se(),he.hideMissionlist.setting.value&&he.hideMissionlist.own.alliance.value&&I(),he.alliance.missionlist.value&&le()}},color:{type:"toggle",old:"AllianceLabel_ColorLabels_setting",location:"alliance",default:!(y=function(){try{mission_markers.forEach(function(e){if(e){var i=$(f("mission_"+e.mission_id)),s=f("mission_"+e.mission_id);if(he.hideMissionlist.setting.value&&he.hideMissionlist.labelColor.setting.value)switch(e.user_id){case null:if(he.hideMissionlist.labelColor.event.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value){var t,n=s.getAttribute("mission_type_id"),n=null!=(t=(null!=(a=Ce[n])?a:{}).average_credits)?t:0;switch(h(n)){case"label-danger":he.hideMissionlist.labelColor.event.red.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-success":he.hideMissionlist.labelColor.event.green.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-primary":he.hideMissionlist.labelColor.event.darkBlue.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-info":he.hideMissionlist.labelColor.event.lightBlue.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-warning":he.hideMissionlist.labelColor.event.yellow.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel")}}else i.hasClass("hiddenLabel")&&i.removeClass("hiddenLabel");break;case user_id:if(he.hideMissionlist.labelColor.own.red.value||he.hideMissionlist.labelColor.own.green.value||he.hideMissionlist.labelColor.own.darkBlue.value||he.hideMissionlist.labelColor.own.lightBlue.value||he.hideMissionlist.labelColor.own.yellow.value){var l,a=s.getAttribute("mission_type_id");switch(a=null!=(l=(null!=(n=Ce[a])?n:{}).average_credits)?l:0,h(a)){case"label-danger":he.hideMissionlist.labelColor.own.red.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-success":he.hideMissionlist.labelColor.own.green.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-primary":he.hideMissionlist.labelColor.own.darkBlue.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-info":he.hideMissionlist.labelColor.own.lightBlue.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-warning":he.hideMissionlist.labelColor.own.yellow.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel")}}else i.hasClass("hiddenLabel")&&i.removeClass("hiddenLabel");break;default:if(he.hideMissionlist.labelColor.alliance.red.value||he.hideMissionlist.labelColor.alliance.green.value||he.hideMissionlist.labelColor.alliance.darkBlue.value||he.hideMissionlist.labelColor.alliance.lightBlue.value||he.hideMissionlist.labelColor.alliance.yellow.value)switch(a=s.getAttribute("mission_type_id"),a=null!=(l=(null!=(l=Ce[a])?l:{}).average_credits)?l:0,h(a)){case"label-danger":he.hideMissionlist.labelColor.alliance.red.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-success":he.hideMissionlist.labelColor.alliance.green.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-primary":he.hideMissionlist.labelColor.alliance.darkBlue.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-info":he.hideMissionlist.labelColor.alliance.lightBlue.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel");break;case"label-warning":he.hideMissionlist.labelColor.alliance.yellow.value?i.addClass("hiddenLabel"):i.removeClass("hiddenLabel")}else i.hasClass("hiddenLabel")&&i.removeClass("hiddenLabel")}else i.removeClass("hiddenLabel")}})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initHideMissionslistByLabel"),S(e.message,"initHideMissionslistByLabel",!0,!1)}}),value:!(M=function(e){try{if(e)switch(e.user_id){case null:if(he.hideMissionlist.labelColor.event.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value){var i,s,t=$(f("mission_"+e.id)),n=null!=(s=(null!=(i=Ce[e.mtid])?i:{}).average_credits)?s:0;switch(h(n)){case"label-danger":he.hideMissionlist.labelColor.event.red.value?t.addClass("hiddenLabel"):t.removeClass("hiddenLabel");break;case"label-success":he.hideMissionlist.labelColor.event.green.value?t.addClass("hiddenLabel"):t.removeClass("hiddenLabel");break;case"label-primary":he.hideMissionlist.labelColor.event.darkBlue.value?t.addClass("hiddenLabel"):t.removeClass("hiddenLabel");break;case"label-info":he.hideMissionlist.labelColor.event.lightBlue.value?t.addClass("hiddenLabel"):t.removeClass("hiddenLabel");break;case"label-warning":he.hideMissionlist.labelColor.event.yellow.value?t.addClass("hiddenLabel"):t.removeClass("hiddenLabel")}}break;case user_id:if(he.hideMissionlist.labelColor.own.red.value||he.hideMissionlist.labelColor.own.green.value||he.hideMissionlist.labelColor.own.darkBlue.value||he.hideMissionlist.labelColor.own.lightBlue.value||he.hideMissionlist.labelColor.own.yellow.value){var l,a,o=$(f("mission_"+e.id)),r=null!=(a=(null!=(l=Ce[e.mtid])?l:{}).average_credits)?a:0;switch(h(r)){case"label-danger":he.hideMissionlist.labelColor.own.red.value?o.addClass("hiddenLabel"):o.removeClass("hiddenLabel");break;case"label-success":he.hideMissionlist.labelColor.own.green.value?o.addClass("hiddenLabel"):o.removeClass("hiddenLabel");break;case"label-primary":he.hideMissionlist.labelColor.own.darkBlue.value?o.addClass("hiddenLabel"):o.removeClass("hiddenLabel");break;case"label-info":he.hideMissionlist.labelColor.own.lightBlue.value?o.addClass("hiddenLabel"):o.removeClass("hiddenLabel");break;case"label-warning":he.hideMissionlist.labelColor.own.yellow.value?o.addClass("hiddenLabel"):o.removeClass("hiddenLabel")}}break;default:if(he.hideMissionlist.labelColor.alliance.red.value||he.hideMissionlist.labelColor.alliance.green.value||he.hideMissionlist.labelColor.alliance.darkBlue.value||he.hideMissionlist.labelColor.alliance.lightBlue.value||he.hideMissionlist.labelColor.alliance.yellow.value){var d,c,u=$(f("mission_"+e.id)),p=null!=(c=(null!=(d=Ce[e.mtid])?d:{}).average_credits)?c:0;switch(h(p)){case"label-danger":he.hideMissionlist.labelColor.alliance.red.value?u.addClass("hiddenLabel"):u.removeClass("hiddenLabel");break;case"label-success":he.hideMissionlist.labelColor.alliance.green.value?u.addClass("hiddenLabel"):u.removeClass("hiddenLabel");break;case"label-primary":he.hideMissionlist.labelColor.alliance.darkBlue.value?u.addClass("hiddenLabel"):u.removeClass("hiddenLabel");break;case"label-info":he.hideMissionlist.labelColor.alliance.lightBlue.value?u.addClass("hiddenLabel"):u.removeClass("hiddenLabel");break;case"label-warning":he.hideMissionlist.labelColor.alliance.yellow.value?u.addClass("hiddenLabel"):u.removeClass("hiddenLabel")}}}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > HideMissionlistByLabel"),S(e.message,"HideMissionlistByLabel",!0,!1)}}),On:function(){he.alliance.missionlist.value&&le()},Off:function(){he.alliance.missionlist.value&&le()}},count:{type:"toggle",old:"Alliancecount_setting",location:"alliance",default:!(_=function(){try{if(he.hideMissionlist.setting.value&&he.hideMissionlist.alliance.all.value){var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id!=user_id&&null!=e.user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&$(f("mission_"+e[s].getAttribute("mission_id"))).addClass("hidden")}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeAllAlliancemissionsMissionlist"),S(e.message,"removeAllAlliancemissionsMissionlist",!0,!1)}}),value:!(b=function(){try{var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id!=user_id&&null!=e.user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&$(f("mission_"+e[s].getAttribute("mission_id"))).removeClass("hidden")}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addAllAlliancemissionsMissionlist"),S(e.message,"addAllAlliancemissionsMissionlist",!0,!1)}}),On:function(){te()},Off:function(){$(f("AllianceCountText")).remove()}}},hotkey:{type:"category",setting:{type:"module",old:"Hotkey_setting",location:"hotkey",default:!(g=function(){try{if(he.hideMissionlist.setting.value&&he.hideMissionlist.alliance.involved.value){var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id!=user_id&&null!=e.user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&$(f("mission_participant_new_"+e[s].getAttribute("mission_id"))).hasClass("hidden")&&$(f("mission_"+e[s].getAttribute("mission_id"))).addClass("hiddenInvolved")}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeIvolvedAlliancemissionsMissionlist"),S(e.message,"removeIvolvedAlliancemissionsMissionlist",!0,!1)}}),value:!(v=function(){try{var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){e.user_id!=user_id&&null!=e.user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&$(f("mission_participant_new_"+e[s].getAttribute("mission_id"))).hasClass("hidden")&&$(f("mission_"+e[s].getAttribute("mission_id"))).removeClass("hiddenInvolved")}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addInvolvedAlliancemissionsMissionlist"),S(e.message,"addInvolvedAlliancemissionsMissionlist",!0,!1)}}),On:function(){},Off:function(){}},savePOI:{type:"hotkey",old:"SavePOI_Hotkey",location:"hotkey",default:"Space",value:"Space",fun:function(){}},OpenTransportRequests:{type:"hotkey",old:"OpenTransportRequests_Hotkey",location:"hotkey",default:"KeyQ",value:"KeyQ",fun:function(){}}},hideMap:{type:"category",setting:{type:"module",old:"HideMap_setting",location:"hideMap",default:!(u=function(){try{if(he.hideMissionlist.setting.value&&he.hideMissionlist.event.involved.value){var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){null==e.user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&$(f("mission_participant_new_"+e[s].getAttribute("mission_id"))).hasClass("hidden")&&$(f("mission_"+e[s].getAttribute("mission_id"))).addClass("hiddenInvolved")}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeInvolvedEventmissionsMissionlist"),S(e.message,"removeInvolvedEventmissionsMissionlist",!0,!1)}}),value:!(d=function(){try{var e=$(".missionSideBarEntry"),i=[];mission_markers.forEach(function(e){null==e.user_id&&i.push(e.mission_id)});for(var s=0;s<e.length;s++)-1!=i.indexOf(parseInt(e[s].getAttribute("mission_id")))&&$(f("mission_participant_new_"+e[s].getAttribute("mission_id"))).hasClass("hidden")&&$(f("mission_"+e[s].getAttribute("mission_id"))).removeClass("hiddenInvolved")}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addInvolvedEventmissionsMissionlist"),S(e.message,"addInvolvedEventmissionsMissionlist",!0,!1)}}),map:!0,On:function(){he.hideMap.vehicles.allOwn.value&&J(),he.hideMap.vehicles.allAlliance.value&&V(),he.hideMap.vehicles.notInvolvedOwn.value&&F(),(he.hideMap.missions.own.red.value||he.hideMap.missions.own.yellow.value||he.hideMap.missions.own.green.value||he.hideMap.missions.alliance.red.value||he.hideMap.missions.alliance.yellow.value||he.hideMap.missions.alliance.green.value||he.hideMap.missions.event.red.value||he.hideMap.missions.event.yellow.value||he.hideMap.missions.event.green.value)&&Z("all"),(he.hideMap.missions.own.involved.value||he.hideMap.missions.alliance.involved.value||he.hideMap.missions.event.involved.value)&&q("all"),(he.hideMap.missions.own.shared.value||he.hideMap.missions.own.notShared.value)&&Y("all")},Off:function(){he.hideMap.vehicles.allOwn.value&&z(),he.hideMap.vehicles.allAlliance.value&&U(),he.hideMap.vehicles.notInvolvedOwn.value&&G(),(he.hideMap.missions.own.red.value||he.hideMap.missions.own.yellow.value||he.hideMap.missions.own.green.value||he.hideMap.missions.alliance.red.value||he.hideMap.missions.alliance.yellow.value||he.hideMap.missions.alliance.green.value||he.hideMap.missions.event.red.value||he.hideMap.missions.event.yellow.value||he.hideMap.missions.event.green.value)&&Z("all"),(he.hideMap.missions.own.involved.value||he.hideMap.missions.alliance.involved.value||he.hideMap.missions.event.involved.value)&&q("all"),(he.hideMap.missions.own.shared.value||he.hideMap.missions.own.notShared.value)&&Y("all")}},vehicles:{type:"subcategory",allOwn:{type:"toggle",old:"Hidemap_AllOwnVehicles_setting",location:"hideMap.vehicles",default:!(r=function(){try{$.ajax({url:"/api/credits",success:function(e){e=e.user_toplist_position,he.general.toplist.value&&$("#navbar-main-collapse > ul > form").before('<li id="user_toplist_position_script_MKS_li"> <a id="user_toplist_position_script_MKS" class="lightbox-open" href="/toplist?page='+Math.round(e/20+.49)+'">Toplist: '+e+"</a></li>")}})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > addToplistRank"),S(e.message,"addToplistRank",!0,!1)}}),value:!(o=function(){try{$.ajax({url:"/api/credits",success:function(e){e=e.user_toplist_position,he.general.toplist.value&&$(f("user_toplist_position_script_MKS")).remove(),he.general.toplist.value&&$(f("user_toplist_position_script_MKS_li")).html('<a id="user_toplist_position_script_MKS" class="lightbox-open" href="/toplist?page='+Math.round(e/20+.49)+'">Toplist: '+e+"</a>"),s=setTimeout(o,3e5)}})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > updateToplistRank"),S(e.message,"updateToplistRank",!0,!1)}}),map:!0,conflict:["hideMap.vehicles.notInvolvedOwn"],On:function(){J()},Off:function(){z()}},notInvolvedOwn:{type:"toggle",old:"Hidemap_AllOwnNotInvolvedVehicles_setting",location:"hideMap.vehicles",default:!(c=function(e,i){try{var s=void 0===e?fe.undefined:0===e?fe.OnlyAmbulance:(i&&he.credits.DoubleCreditsEvent.value&&(e*=2),"~ "+e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")+" Credits");return s}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > gethtml_str"),S(e.message,"gethtml_str",!0,!1)}}),value:!(h=function(e){try{return void 0===e?"label-info":0===e?"label-warning":e>=he.credits.labels.red.value?"label-danger":e>=he.credits.labels.green.value?"label-success":e>=he.credits.labels.blue.value?"label-primary":"label-info"}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > getLabel"),S(e.message,"getLabel",!0,!1)}}),map:!0,conflict:["hideMap.vehicles.allOwn"],On:function(){F()},Off:function(){G()}},allAlliance:{type:"toggle",old:"Hidemap_AllAllianceVehicles_setting",location:"hideMap.vehicles",default:!1,value:!1,map:!0,On:function(){V()},Off:function(){U()}}},missions:{type:"subcategory",own:{type:"sub-subcategory",red:{type:"toggle",old:"HideMap_RedownMission_setting",location:"hideMap.missions.own",default:!1,value:!1,map:!0,conflict:["hideMap.missions.own.shared","hideMap.missions.own.notShared","hideMap.missions.own.involved"],On:function(){Z("own")},Off:function(){Z("own")}},yellow:{type:"toggle",old:"HideMap_YellowOwnMission_setting",location:"hideMap.missions.own",default:!1,value:!1,map:!0,conflict:["hideMap.missions.own.shared","hideMap.missions.own.notShared","hideMap.missions.own.involved"],On:function(){Z("own")},Off:function(){Z("own")}},green:{type:"toggle",old:"HideMap_GreenOwnMission_setting",location:"hideMap.missions.own",default:!1,value:!1,map:!0,conflict:["hideMap.missions.own.shared","hideMap.missions.own.notShared","hideMap.missions.own.involved"],On:function(){Z("own")},Off:function(){Z("own")}},shared:{type:"toggle",old:"HideMap_SharedMissions_setting",location:"hideMap.missions.own",default:!1,value:!1,map:!0,conflict:["hideMap.missions.own.red","hideMap.missions.own.green","hideMap.missions.own.yellow","hideMap.missions.own.involved"],On:function(){Y("shared")},Off:function(){Y("shared")}},notShared:{type:"toggle",old:"HideMap_NotSharedMissions_setting",location:"hideMap.missions.own",default:!1,value:!1,map:!0,conflict:["hideMap.missions.own.red","hideMap.missions.own.green","hideMap.missions.own.yellow","hideMap.missions.own.involved"],On:function(){Y("not")},Off:function(){Y("not")}},involved:{type:"toggle",old:"HideMap_InvolvedOwnMissions_setting",location:"hideMap.missions.own",default:!1,value:!1,map:!0,conflict:["hideMap.missions.own.shared","hideMap.missions.own.notShared","hideMap.missions.own.red","hideMap.missions.own.yellow","hideMap.missions.own.green"],On:function(){q("own")},Off:function(){q("own")}}},alliance:{type:"sub-subcategory",red:{type:"toggle",old:"HideMap_RedAllianceMission_setting",location:"hideMap.missions.alliance",default:!1,value:!1,map:!0,conflict:["hideMap.missions.alliance.involved"],On:function(){Z("alliance")},Off:function(){Z("alliance")}},yellow:{type:"toggle",old:"HideMap_YellowAllianceMission_setting",location:"hideMap.missions.alliance",default:!1,value:!1,map:!0,conflict:["hideMap.missions.alliance.involved"],On:function(){Z("alliance")},Off:function(){Z("alliance")}},green:{type:"toggle",old:"HideMap_GreenAllianceMission_setting",location:"hideMap.missions.alliance",default:!1,value:!1,map:!0,conflict:["hideMap.missions.alliance.involved"],On:function(){Z("alliance")},Off:function(){Z("alliance")}},involved:{type:"toggle",old:"HideMap_InvolvedAllianceMissions_setting",location:"hideMap.missions.alliance",default:!1,value:!1,map:!0,conflict:["hideMap.missions.alliance.red","hideMap.missions.alliance.yellow","hideMap.missions.alliance.green"],On:function(){q("alliance")},Off:function(){q("alliance")}}},event:{type:"sub-subcategory",red:{type:"toggle",old:"HideMap_RedEventMission_setting",location:"hideMap.missions.event",default:!1,value:!1,map:!0,conflict:["hideMap.missions.event.involved"],On:function(){Z("event")},Off:function(){Z("event")}},yellow:{type:"toggle",old:"HideMap_YellowEventMission_setting",location:"hideMap.missions.event",default:!1,value:!1,map:!0,conflict:["hideMap.missions.event.involved"],On:function(){Z("event")},Off:function(){Z("event")}},green:{type:"toggle",old:"HideMap_GreenEventMission_setting",location:"hideMap.missions.event",default:!1,value:!1,map:!0,conflict:["hideMap.missions.event.involved"],On:function(){Z("event")},Off:function(){Z("event")}},involved:{type:"toggle",old:"HideMap_InvolvedEventMissions_setting",location:"hideMap.missions.event",default:!1,value:!1,map:!0,conflict:["hideMap.missions.event.red","hideMap.missions.event.yellow","hideMap.missions.event.green"],On:function(){q("event")},Off:function(){q("event")}}}},poi:{type:"subcategory",poi:{type:"toggle",old:"",location:"hideMap",default:!1,value:!1,map:!0,On:function(){R()},Off:function(){$(f("POI_filter_Scripts-MKS")).remove()}}}},hideMissionlist:{type:"category",setting:{type:"module",old:"HideMissionlist_setting",location:"hideMissionlist",default:!1,value:!1,On:function(){he.hideMissionlist.own.all.value&&B(),(he.hideMissionlist.own.involved.value||he.hideMissionlist.own.notInvolved.value)&&P(),he.hideMissionlist.own.shared.value&&E(),he.hideMissionlist.own.notShared.value&&L(),he.hideMissionlist.alliance.all.value&&_(),he.hideMissionlist.alliance.involved.value&&g(),he.hideMissionlist.event.involved.value&&u(),he.hideMissionlist.own.alliance.value&&I(),he.hideMissionlist.labelColor.setting.value&&(he.hideMissionlist.labelColor.event.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value||he.hideMissionlist.labelColor.own.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value||he.hideMissionlist.labelColor.alliance.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value)&&y()},Off:function(){he.hideMissionlist.labelColor.setting.value&&(he.hideMissionlist.labelColor.event.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value||he.hideMissionlist.labelColor.own.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value||he.hideMissionlist.labelColor.alliance.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value)&&y(),K(),b(),d(),I()}},own:{type:"subcategory",all:{type:"toggle",old:"HideMissionlist_AllOwnMissions_setting",location:"hideMissionlist.own",default:!1,value:!1,On:function(){B()},Off:function(){K()}},involved:{type:"toggle",old:"HideMissionlist_InvolvedOwnMissions_setting",location:"hideMissionlist.own",default:!1,value:!1,On:function(){P()},Off:function(){j("involved")}},notInvolved:{type:"toggle",old:"HideMissionlist_NotInvolvedOwnMissions_setting",location:"hideMissionlist.own",default:!1,value:!1,On:function(){P()},Off:function(){j("not")}},shared:{type:"toggle",old:"HideMissionlist_SharedOwnMissions_setting",location:"hideMissionlist.own",default:!1,value:!1,On:function(){E()},Off:function(){T()}},notShared:{type:"toggle",old:"HideMissionlist_NotSharedOwnMissions_setting",location:"hideMissionlist.own",default:!1,value:!1,On:function(){L()},Off:function(){x()}},alliance:{type:"toggle",old:"HideMissionlist_NotAllianceOwnMissions_setting",location:"hideMissionlist.own",default:!1,value:!1,On:function(){I()},Off:function(){I()}}},alliance:{type:"subcategory",all:{type:"toggle",old:"HideMissionlist_AllAllianceMissions_setting",location:"hideMissionlist.alliance",default:!1,value:!1,On:function(){_()},Off:function(){b()}},involved:{type:"toggle",old:"HideMissionlist_InvolvedAllianceMissions_setting",location:"hideMissionlist.alliance",default:!1,value:!1,On:function(){g()},Off:function(){v()}}},event:{type:"subcategory",involved:{type:"toggle",old:"HideMissionlist_InvolvedEventMissions_setting",location:"hideMissionlist.alliance",default:!1,value:!1,On:function(){u()},Off:function(){d()}}},labelColor:{type:"subcategory",setting:{type:"toggle",old:"",location:"hideMissionlist.labelColor",default:!0,value:!0,dependence:"hideMissionlist.labelColor.event.red hideMissionlist.labelColor.event.green hideMissionlist.labelColor.event.darkBlue hideMissionlist.labelColor.event.lightBlue hideMissionlist.labelColor.event.yellow hideMissionlist.labelColor.own.red hideMissionlist.labelColor.own.green hideMissionlist.labelColor.own.darkBlue hideMissionlist.labelColor.own.lightBlue hideMissionlist.labelColor.own.yellow hideMissionlist.labelColor.alliance.red hideMissionlist.labelColor.alliance.green hideMissionlist.labelColor.alliance.darkBlue hideMissionlist.labelColor.alliance.lightBlue hideMissionlist.labelColor.alliance.yellow".split(" "),On:function(){y()},Off:function(){y()}},own:{type:"sub-subcategory",red:{type:"toggle",old:"",location:"hideMissionlist.labelColor.own",default:!1,value:!1,On:function(){y()},Off:function(){y()}},green:{type:"toggle",old:"",location:"hideMissionlist.labelColor.own",default:!1,value:!1,On:function(){y()},Off:function(){y()}},darkBlue:{type:"toggle",old:"",location:"hideMissionlist.labelColor.own",default:!1,value:!1,On:function(){y()},Off:function(){y()}},lightBlue:{type:"toggle",old:"",location:"hideMissionlist.labelColor.own",default:!1,value:!1,On:function(){y()},Off:function(){y()}},yellow:{type:"toggle",old:"",location:"hideMissionlist.labelColor.own",default:!1,value:!1,On:function(){y()},Off:function(){y()}}},alliance:{type:"sub-subcategory",red:{type:"toggle",old:"",location:"hideMissionlist.labelColor.alliance",default:!1,value:!1,On:function(){y()},Off:function(){y()}},green:{type:"toggle",old:"",location:"hideMissionlist.labelColor.alliance",default:!1,value:!1,On:function(){y()},Off:function(){y()}},darkBlue:{type:"toggle",old:"",location:"hideMissionlist.labelColor.alliance",default:!1,value:!1,On:function(){y()},Off:function(){y()}},lightBlue:{type:"toggle",old:"",location:"hideMissionlist.labelColor.alliance",default:!1,value:!1,On:function(){y()},Off:function(){y()}},yellow:{type:"toggle",old:"",location:"hideMissionlist.labelColor.alliance",default:!1,value:!1,On:function(){y()},Off:function(){y()}}},event:{type:"sub-subcategory",red:{type:"toggle",old:"",location:"hideMissionlist.labelColor.event",default:!1,value:!1,On:function(){y()},Off:function(){y()}},green:{type:"toggle",old:"",location:"hideMissionlist.labelColor.event",default:!1,value:!1,On:function(){y()},Off:function(){y()}},darkBlue:{type:"toggle",old:"",location:"hideMissionlist.labelColor.event",default:!1,value:!1,On:function(){y()},Off:function(){y()}},lightBlue:{type:"toggle",old:"",location:"hideMissionlist.labelColor.event",default:!1,value:!1,On:function(){y()},Off:function(){y()}},yellow:{type:"toggle",old:"",location:"hideMissionlist.labelColor.event",default:!1,value:!1,On:function(){y()},Off:function(){y()}}}}},sortMissionlist:{type:"category",columns:2,setting:{type:"module",old:"",location:"sortMissionlist",default:!1,value:!1,On:function(){Ne()},Off:function(){Ne()}},own:{type:"subcategory",credits:{type:"toggle",old:"",location:"sortMissionlist",default:!1,value:!1,dependence:["sortMissionlist.own.ownDesc"],On:function(){Ne()},Off:function(){Ne()}},ownDesc:{type:"toggle",old:"",location:"sortMissionlist",default:!1,value:!1,On:function(){Ne()},Off:function(){Ne()}}},alliance:{type:"subcategory",credits:{type:"toggle",old:"",location:"sortMissionlist",default:!1,value:!1,dependence:["sortMissionlist.alliance.allianceDesc"],On:function(){Ne()},Off:function(){Ne()}},allianceDesc:{type:"toggle",old:"",location:"sortMissionlist",default:!1,value:!1,On:function(){Ne()},Off:function(){Ne()}}},event:{type:"subcategory",credits:{type:"toggle",old:"",location:"sortMissionlist",default:!1,value:!1,dependence:["sortMissionlist.event.eventDesc"],On:function(){Ne()},Off:function(){Ne()}},eventDesc:{type:"toggle",old:"",location:"sortMissionlist",default:!1,value:!1,On:function(){Ne()},Off:function(){Ne()}}},guard:{type:"subcategory",credits:{type:"toggle",old:"",location:"sortMissionlist",default:!1,value:!1,dependence:["sortMissionlist.guard.guardDesc"],On:function(){Ne()},Off:function(){Ne()}},guardDesc:{type:"toggle",old:"",location:"sortMissionlist",default:!1,value:!1,On:function(){Ne()},Off:function(){Ne()}}}}};try{ge=JSON.parse(null!=(ve=localStorage.getItem("LSS_Scripts_MKS_Settings_"+user_id))?ve:"{}"),localStorage.getItem("LSS_Scripts_MKS_Settings_"+user_id)&&!ge.settingVersion?Object.entries(he).forEach(function(t){["category","subcategory","sub-subcategory"].includes(t[1].type)?Object.entries(t[1]).forEach(function(s){["category","subcategory","sub-subcategory"].includes(s[1].type)?Object.entries(s[1]).forEach(function(i){["category","subcategory","sub-subcategory"].includes(i[1].type)?Object.entries(i[1]).forEach(function(e){ge.hasOwnProperty(e[1].old)&&(he[t[0]][s[0]][i[0]][e[0]].value=ge[e[1].old])}):ge.hasOwnProperty(i[1].old)&&(he[t[0]][s[0]][i[0]].value=ge[i[1].old])}):ge.hasOwnProperty(s[1].old)&&(he[t[0]][s[0]].value=ge[s[1].old])}):ge.hasOwnProperty(t[1].old)&&(he[t[0]].value=ge[t[1].old])}):(Object.entries(ge).forEach(function(e){var i=e[0].split(".");switch(i.length){case 1:try{he[i[0]].value=e[1]}catch(e){}break;case 2:try{he[i[0]][i[1]].value=e[1]}catch(e){}break;case 3:try{he[i[0]][i[1]][i[2]].value=e[1]}catch(e){}break;case 4:try{he[i[0]][i[1]][i[2]][i[3]].value=e[1]}catch(e){}break;case 5:try{he[i[0]][i[1]][i[2]][i[3]][i[4]].value=e[1]}catch(e){}}}),he.hideMap.poi.poi.value=!1),ge=null}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > loadSettings"),S(e.message,"loadSettings",!0,!1)}if(fe={On:"On: ",Off:"Off: ",AllianceCount_ToShare_Translation:"To share: ",AllianceCount_Shared_Translation:" Shared: ",Hotkey_InputKeycode_new_Menu_Translation:"Click on a inputfield and push the desired button:",Hotkey_Restoredefault_Menu_Translation:"Restore default settings",HideMap_POI_Header_Translation:"Hide/Show POI by name",HideMap_POI_All_Translation:"All",HideMap_POI_Show_POI_Translation:"Show POI",HideMap_POI_Hide_POI_Translation:"Hide POI",HideMap_POI_Choose_POI_Translation:"Choose POI:",HideMap_POI_WarningPOIFilterOn_Translation:"The game's POI must be activated: ",HideMap_POI_Close_Translation:"Close",HideMap_POI_POI_On_Translation:"Turn on",HideMap_POI_POI_Off_Translation:"Turn off",HideMap_POI_Working_Translation:"Working...",data_collection_optout_Menu_Translation:"Stop data collection",data_collection_optin_Menu_Translation:"Start data collection",data_collection_deleterequest_Menu_Translation:"Request for deletion of data",data_collection_withdrawdeleterequest_Menu_Translation:"Withdraw request for deletion of data",data_collection_areyousure_delete_Menu_Translation:"\nAre you sure you would request for deletion of your data? We only use this data for support, statistics and find/resolve bugs.",data_collection_areyousure_optout_Menu_Translation:"\nAre you sure you would stop the data collection? We only use this data for support, statistics and find/resolve bugs.",data_collection_areyousure_optin_Menu_Translation:"\nAre you sure you would start data collection? We only use this data for support, statistics and find/resolve bugs.",data_collection_areyousure_withdraw_Menu_Translation:"\nAre you sure you would withdraw your request for deletionof your data?",mapkit:'This setting is not availble because you\'re using maptype MapKit. MapKit is not supported in this script. You could change to maptype OpenStreetMaps in the "Profile" menu.',OnlyAmbulance:"Only Ambulance",ToEarn:"To earn: ",LabelAlliance:"ALLIANCE",undefined:"Undefined",s:{title:"Scripts-MKS Settings",information:'Welcome! Thanks for using this script. If you would like more information, you could always <a class="white" href="%SITEURL%" target="blank">look at the site</a>. Do you have any questions? Please contact me at the Dutch forum, Discordmessage: JRH1997#2625, Github JRH-1997 or ingame message at the dutch game www.meldkamerspel.com: JRH1997<br>If you would change some translations or add descriptions to settings, <a class="white" href="%githubtranslations%" target="blank">feel free to contribute on Github</a>. ',restoreMessage:"Are you sure you want to restore all settings of the script?",restoreBtn:"Restore settings",updateBtn:"Update Script",modules:"Modules",general:{title:"General"},credits:{title:"Credits"},alliance:{title:"Alliance"},hotkey:{title:"Hotkeys",moduledescription:"To change a hotkey, you could click on the inputfield from that hotkey and push the desired button. The new button will be shown and saved automatically."},hideMap:{title:"Hide on map"},hideMissionlist:{title:"Hide in the missionlist"},sortMissionlist:{title:"Sort missionlist"},"general.telemetry":{title:"Data collection",description:"We collect usage data and error logging. These data include: user ID, username, gameversion, Script settings and script version. If it's an error report, then the data will also includes the Error message. We only use this information for support, statistics and finding/resolving bugs"},"general.telemetry.setting":{title:"Allow data collection"},"general.telemetry.deletedata":{title:"Request for deletion of data",description:"Would you request to delete your data? If it's on. You could turn it off to withdraw your request."},"general.toplist":{title:"Toplist",description:"Show your toplist rank in the navbar"},"general.HideAlarmNextShare":{title:"Hide Alarm Next Share button"},"general.HideAlarmNextShareOnlyupper":{title:"Only upper button",description:"Hide only the upper Alarm Next Share button"},"credits.missionlist":{title:"Missionlist"},"credits.missionlist.label":{title:"In missionlist as label",description:"Shows the average credits in a label in the missionlist"},"credits.missionlist.text":{title:"In missionlist as text",description:"Shows the average credits as text in the missionlist"},"credits.missionlist.labelAfter":{title:"In missionlist as label after the name",description:"Shows the average credits in a label after the missionname in the missionlist"},"credits.missionlist.textAfter":{title:"In missionlist as text after the name",description:"Shows the average credits as text after the missionname in the missionlist"},"credits.missionheader":{title:"Missionheader"},"credits.missionheader.label":{title:"In missionheader as label",description:"Shows the average credits in a label in the missionheader"},"credits.missionheader.text":{title:"In missionheader as text",description:"Shows the average credits as text in the missionheader"},"credits.remainingCredits":{title:"Credits totals"},"credits.remainingCredits.setting":{title:"Totals above missionlist",description:"Shows the totals of the missions in categories: <br>Own missions / Planned missions / Alliance Missions"},"credits.remainingCredits.total":{title:"Grand total after totals",description:"Shows a grand total after the totals: <br>Own missions / Planned missions / Alliance Missions / Grand total"},"credits.labels":{title:"Labels"},"credits.labels.blue":{title:"Dark blue label from: ",description:"Use the dark blue label from this number of credits. Every value under this will use the light blue or yellow label."},"credits.labels.green":{title:"Green label from: ",description:"Use the green label from this number of credits."},"credits.labels.red":{title:"Red label from: ",description:"Use the red label from this number of credits."},"credits.DoubleCreditsEvent":{title:"Automatic double credits event",description:"Automatically doubles the credits values of the labels, text and totals. Alliance setting will not be affected with this setting"},"alliance.missionlist":{title:"Label in missionlist",description:'Show a label with "ALLIANCE" from an adjustable value of credits'},"alliance.missionheader":{title:"Label in missionheader",description:'Show a label with "ALLIANCE" from an adjustable value of credits'},"alliance.value":{title:"Mission for Alliance from:",description:"This value is used for the alliance labels, to share missions and hide in missionlist by alliance value"},"alliance.color":{title:"In the same colors as the credits Labels",description:"Show the alliance labels in the same colors as the credits labels"},"alliance.count":{title:"Totals of to share / shared missions above the missionlist"},"hotkey.savePOI":{title:"Save new POI"},"hotkey.OpenTransportRequests":{title:"Open Transport request"},"hideMap.vehicles":{title:"Vehicles"},"hideMap.vehicles.allOwn":{title:"All own vehicles"},"hideMap.vehicles.notInvolvedOwn":{title:"All own not involved vehicles",description:"Not involved vehicles are vehicles that are not onway to a mission at this moment."},"hideMap.vehicles.allAlliance":{title:"All alliance vehicles"},"hideMap.missions":{title:"Missions"},"hideMap.missions.own":{title:"Own Missions"},"hideMap.missions.own.red":{title:"Red own missions"},"hideMap.missions.own.yellow":{title:"Yellow own missions"},"hideMap.missions.own.green":{title:"Green own missions"},"hideMap.missions.own.shared":{title:"Shared missions"},"hideMap.missions.own.notShared":{title:"Not shared missions"},"hideMap.missions.own.involved":{title:"Involved own missions",description:"Involved missions are missions where you did send a vehicle to."},"hideMap.missions.alliance":{title:"Alliance missions"},"hideMap.missions.alliance.red":{title:"Red alliance missions"},"hideMap.missions.alliance.yellow":{title:"Yellow alliance missions"},"hideMap.missions.alliance.green":{title:"Green alliance missions"},"hideMap.missions.alliance.involved":{title:"Involved alliance missions",description:"Involved missions are missions where you did send a vehicle to."},"hideMap.missions.event":{title:"Event missions"},"hideMap.missions.event.red":{title:"Red event missions"},"hideMap.missions.event.yellow":{title:"Yellow event missions"},"hideMap.missions.event.green":{title:"Green event missions"},"hideMap.missions.event.involved":{title:"Involved event missions",description:"Involved missions are missions where you did send a vehicle to."},"hideMap.poi":{title:"POI"},"hideMap.poi.poi":{title:"POI by name",description:"When you turn this setting on, there will open a window on the map"},"hideMissionlist.own":{title:"Own missions"},"hideMissionlist.own.all":{title:"All own missions"},"hideMissionlist.own.involved":{title:"Involved own missions",description:"Involved missions are missions where you did send a vehicle to."},"hideMissionlist.own.notInvolved":{title:"Not involved own missions",description:"Not involved missions are missions where you didn't send a vehicle to."},"hideMissionlist.own.shared":{title:"Shared own missions"},"hideMissionlist.own.notShared":{title:"Not shared own missions"},"hideMissionlist.own.alliance":{title:"Own missions under alliance value",description:'You could change the alliance value at the module "Alliance"'},"hideMissionlist.alliance":{title:"Alliance missions"},"hideMissionlist.alliance.all":{title:"All alliance missions"},"hideMissionlist.alliance.involved":{title:"Involved alliance missions",description:"Involved missions are missions where you did send a vehicle to."},"hideMissionlist.event":{title:"Event missions"},"hideMissionlist.event.involved":{title:"Involved event missions",description:"Involved missions are missions where you did send a vehicle to."},"hideMissionlist.labelColor":{title:"By label color"},"hideMissionlist.labelColor.setting":{title:"By label color",description:'Easy way to keep to your "Hide by label color" settings but turn them off'},"hideMissionlist.labelColor.own":{title:"Own missions"},"hideMissionlist.labelColor.own.red":{title:"Own missions, red label"},"hideMissionlist.labelColor.own.green":{title:"Own missions, green label"},"hideMissionlist.labelColor.own.darkBlue":{title:"Own missions, dark blue label"},"hideMissionlist.labelColor.own.lightBlue":{title:"Own missions, light blue label"},"hideMissionlist.labelColor.own.yellow":{title:"Own missions, yellow label"},"hideMissionlist.labelColor.alliance":{title:"Alliance missions"},"hideMissionlist.labelColor.alliance.red":{title:"Alliance missions, red label"},"hideMissionlist.labelColor.alliance.green":{title:"Alliance missions, green label"},"hideMissionlist.labelColor.alliance.darkBlue":{title:"Alliance missions, dark blue label"},"hideMissionlist.labelColor.alliance.lightBlue":{title:"Alliance missions, light blue label"},"hideMissionlist.labelColor.alliance.yellow":{title:"Alliance missions, yellow label"},"hideMissionlist.labelColor.event":{title:"Event missions"},"hideMissionlist.labelColor.event.red":{title:"Event missions, red label"},"hideMissionlist.labelColor.event.green":{title:"Event missions, green label"},"hideMissionlist.labelColor.event.darkBlue":{title:"Event missions, dark blue label"},"hideMissionlist.labelColor.event.lightBlue":{title:"Event missions, light blue label"},"hideMissionlist.labelColor.event.yellow":{title:"Event missions, yellow label"},"sortMissionlist.own":{title:"Own missions"},"sortMissionlist.own.credits":{title:"Sort own missions by credits",description:"Sort own missions in in the missionlist based by the average credits, sorted from lowest to highest"},"sortMissionlist.own.ownDesc":{title:"Sort descending"},"sortMissionlist.alliance":{title:"Alliance missions"},"sortMissionlist.alliance.credits":{title:"Sort alliance missions by credits",description:"Sort alliance missions in in the missionlist based by the average credits, sorted from lowest to highest"},"sortMissionlist.alliance.allianceDesc":{title:"Sort descending"},"sortMissionlist.event":{title:"Event missions"},"sortMissionlist.event.credits":{title:"Sort event missions by credits",description:"Sort event missions in in the missionlist based by the average credits, sorted from lowest to highest"},"sortMissionlist.event.eventDesc":{title:"Sort descending"},"sortMissionlist.guard":{title:"Planned missions"},"sortMissionlist.guard.credits":{title:"Sort planned missions by credits",description:"Sort planned missions in in the missionlist based by the average credits, sorted from lowest to highest"},"sortMissionlist.guard.guardDesc":{title:"Sort descending"}}},"de_DE"===I18n.locale?(fe.OnlyAmbulance="Nur Krankenwagen",fe.LabelAlliance="VERBAND"):"nl_NL"===I18n.locale&&(fe.OnlyAmbulance="Alleen Ambulance",fe.LabelAlliance="TEAM"),"0"===he.releasenotes.value?(he.releasenotes.value=i(),alert("Scripts-MKS\n"+O()+C()+n)):he.releasenotes.value!==i()&&(he.releasenotes.value=i(),alert("Scripts-MKS\n"+O()+C()+ke)),be=function(e,i){console.error(e.message+" > Scripts-MKS version "+O()+" "+C()+" > settings > "+i+'"'),S(e,i,!0,!1)},_e=function(e,i){try{var s=parseInt($("#lightbox_background").css("width")),t=parseInt($("#lightbox_background").css("height")),n=t-100<592?t-30:t-100,l=s-70<862?+s:s-70,a=l-2,o=n-34;return $("#lightbox_box").css("width",l+"px").css("height",n+"px").show(),$("#lightbox_box").append('<div class="lightbox_iframe" style="width: '+a+"px;height: "+n+"px; background: "+(i?"#505050":"#fff")+'" id="lightbox_iframe_'+iframe_lightbox_number+'"><div id="iframe-inside-container">'+e+"</div></div>"),$("#lightbox_background").show(),$("#lightbox_box").css("left",(s-l)/2+"px"),$("#lightbox_box").css("top",(t-n)/2+"px"),$("#lightbox_iframe_"+iframe_lightbox_number+" #iframe-inside-container").css("height",o).css("width",a),setTimeout(function(){$("#lightbox_iframe_"+iframe_lightbox_number).show().focus()},100),f("lightbox_background").addEventListener("click",function(){$(".lightbox_iframe").remove()}),f("lightbox_close").addEventListener("click",function(){$(".lightbox_iframe").remove()}),""}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > openLightbox"),S(e.message,"openLightbox",!0,!1)}},Me=function(e){try{e.forEach(function(e){var i=e.split(".");switch(i.length){case 1:if(!1===he[i[0]].value)break;he[i[0]].value=!1,he[i[0]].Off();break;case 2:if(!1===he[i[0]][i[1]].value)break;he[i[0]][i[1]].value=!1,he[i[0]][i[1]].Off();break;case 3:if(!1===he[i[0]][i[1]][i[2]].value)break;he[i[0]][i[1]][i[2]].value=!1,he[i[0]][i[1]][i[2]].Off();break;case 4:if(!1===he[i[0]][i[1]][i[2]][i[3]].value)break;he[i[0]][i[1]][i[2]][i[3]].value=!1,he[i[0]][i[1]][i[2]][i[3]].Off();break;case 5:!1!==he[i[0]][i[1]][i[2]][i[3]][i[4]].value&&(he[i[0]][i[1]][i[2]][i[3]][i[4]].value=!1,he[i[0]][i[1]][i[2]][i[3]][i[4]].Off())}f(e+"setting-checkbox").checked=!1})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > conflictOff"),S(e.message,"conflictOff",!0,!1)}},ye=function(e,i){try{e.forEach(function(e){i?(f(e+"setting-checkbox").classList.remove("disabledBtn"),f(e+"setting-slider").classList.remove("disabledBtn"),f(e+"-setting").classList.remove("disabledBtn")):(f(e+"setting-checkbox").classList.add("disabledBtn"),f(e+"setting-slider").classList.add("disabledBtn"),f(e+"-setting").classList.add("disabledBtn"))})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > dependenceDisable"),S(e.message,"dependenceDisable",!0,!1)}},we=function(){try{Object.entries(he).forEach(function(n){var e;["category","subcategory","sub-subcategory"].includes(n[1].type)?Object.entries(n[1]).forEach(function(t){var e;["category","subcategory","sub-subcategory"].includes(t[1].type)?Object.entries(t[1]).forEach(function(s){var e;["category","subcategory","sub-subcategory"].includes(s[1].type)?Object.entries(s[1]).forEach(function(e){var i;"type"!==e[0]&&"columns"!==e[0]&&(i=he[n[0]][t[0]][s[0]][e[0]].value!==e[1].default,he[n[0]][t[0]][s[0]][e[0]].value=e[1].default,i&&"toggle"===e[1].type&&(f(n[0]+"."+t[0]+"."+s[0]+"."+e[0]+"setting-checkbox").checked=e[1].default,e[1].default?e[1].On(!0):e[1].Off()),i&&["input","hotkey","number"].includes(e[1].type)&&(e[1].fun(),f(n[0]+"."+t[0]+"."+s[0]+"."+e[0]+"setting-input").value=e[1].default))}):"type"!==s[0]&&"columns"!==s[0]&&(e=he[n[0]][t[0]][s[0]].value!==s[1].default,he[n[0]][t[0]][s[0]].value=s[1].default,e&&"toggle"===s[1].type&&(f(n[0]+"."+t[0]+"."+s[0]+"setting-checkbox").checked=s[1].default,s[1].default?s[1].On(!0):s[1].Off()),e&&["input","hotkey","number"].includes(s[1].type)&&(s[1].fun(),f(n[0]+"."+t[0]+"."+s[0]+"setting-input").value=s[1].default))}):"type"!==t[0]&&"columns"!==t[0]&&(e=he[n[0]][t[0]].value!==t[1].default,he[n[0]][t[0]].value=t[1].default,e&&"toggle"===t[1].type&&(f(n[0]+"."+t[0]+"setting-checkbox").checked=t[1].default,t[1].default?t[1].On(!0):t[1].Off()),e&&["input","hotkey","number"].includes(t[1].type)&&(t[1].fun(),f(n[0]+"."+t[0]+"setting-input").value=t[1].default))}):"type"!==n[0]&&"columns"!==n[0]&&(e=he[n[0]].value!==n[1].default,he[n[0]].value=n[1].default,e&&"toggle"===n[1].type&&(f(n[0]+"setting-checkbox").checked=n[1].default,n[1].default?n[1].On(!0):n[1].Off()),e&&["input","hotkey","number"].includes(n[1].type)&&(n[1].fun(),f(n[0]+"setting-input").value=n[1].default))})}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > resetSettings"),S(e.message,"resetSettings",!0,!1)}},Se=function(){try{var b=[],e=$($("body")[0]).hasClass("dark"),i=A("hr"),s=A("div","Scripts-MKS-Settings","container-fluid",k,"margin: 10px"),t=A("h1",k,k,""+fe.s.title),n=A("div",k,"btn-group pull-right"),l=A("div","Version","btn btn-success",O()+" "+C()),a=A("button","restoreSettings","btn btn-warning",fe.s.restoreBtn),o=A("a","Update-Script","btn btn-success",fe.s.updateBtn),r="https://github.com/JRH-1997/Scripts-MKS/raw/"+(["Beta ","Alpha "].includes(O())?"Dev":"master")+"/Script-bundle/Scripts-MKS.user.js";o.setAttribute("href",r),o.setAttribute("target","_blank"),n.append(l,o,a),t.append(n),n="https://jrh-1997.github.io/Scripts-MKS/EN",["Beta ","Alpha "].includes(O())&&"nl_NL"==I18n.locale?n="https://jrh-1997.github.io/Scripts-MKS/Beta-NL":["Beta ","Alpha "].includes(O())&&"de_DE"==I18n.locale?n="https://jrh-1997.github.io/Scripts-MKS/Beta-DE":["Beta ","Alpha "].includes(O())?n="https://jrh-1997.github.io/Scripts-MKS/Beta-EN":"de_DE"==I18n.locale?n="https://jrh-1997.github.io/Scripts-MKS/DE":"nl_NL"==I18n.locale&&(n="https://jrh-1997.github.io/Scripts-MKS/");var d="nl_NL"===I18n.locale?"https://github.com/JRH-1997/Scripts-MKS/blob/master/Script-bundle/Translations/nl_NL_2.json":"de_DE"===I18n.locale?"https://github.com/JRH-1997/Scripts-MKS/blob/master/Script-bundle/Translations/de_DE_2.json":"https://github.com/JRH-1997/Scripts-MKS/blob/master/Script-bundle/Translations/en_US_GB_AU_2.json",c=A("span",k,"panelbody",""+(""+fe.s.information).replace("%SITEURL%",n).replace("%githubtranslations%",d)),u=A("div","tabContainer"),p=A("ul","settingTabs","nav nav-tabs"),m=A("div","content-settings","tab-content"),h=A("li",k,"active");h.setAttribute("role","presentation");var v=A("a","modules-tab","nav-link",fe.s.modules);v.setAttribute("data-toggle","tab"),v.setAttribute("href","#modules-pane"),v.setAttribute("role","tab"),v.setAttribute("aria-controls","modules-pane"),v.setAttribute("aria-selected","false"),h.append(v),p.append(h);var _=A("div","modules-pane","tab-pane active");_.setAttribute("role","tabpanel");var g=A("h2",k,k,fe.s.modules),M=A("div",k,"settingGroup");_.append(g,A("hr"),M),m.append(_),_e(s.outerHTML,e),u.append(p,m),f("Scripts-MKS-Settings").append(t,c,i,u),a.addEventListener("click",function(){confirm("Scripts-MKS\n"+O()+C()+"\n\n"+fe.s.restoreMessage)&&(we(),me())});var y=0,w="undefined"!=typeof mapkit;Object.entries(he).forEach(function(v){var d,e,c,u,g,i,f;"hidden"!==v[1].type&&"category"===v[1].type&&(c=null!=(e=v[1].columns)?e:3,(u=A("li")).setAttribute("role","presentation"),(e=A("a",v[0]+"-tab","nav-link",fe.s[v[0]].title)).setAttribute("data-toggle","tab"),e.setAttribute("href","#"+v[0]+"-pane"),e.setAttribute("role","tab"),e.setAttribute("aria-controls",v[0]+"-pane"),e.setAttribute("aria-selected","false"),u.append(e),p.append(u),(g=A("div",v[0]+"-pane","tab-pane")).setAttribute("role","tabpanel"),e=A("h2",k,k,fe.s[v[0]].title),fe.s[""+v[0]].moduledescription?(i=A("span",k,k,fe.s[""+v[0]].moduledescription),g.append(e,i,A("hr"))):g.append(e,A("hr")),m.append(g),f=!0,Object.entries(v[1]).forEach(function(p){var e,i,s,t,n,l,a,r,m,h,o;"hidden"!==p[1].type&&("module"===p[1].type?(3===y&&(y=0,M=A("div",k,"settingGroup"),_.append(M)),y++,o=A("div",v[0]+"."+p[0]+"-setting","settingDiv"),e=A("h4"),i=A("b",k,k,"   "+fe.s[v[0]].title),s=A("span"),t=v[0]+"."+p[0]+"setting-checkbox",(n=A("input",t,"switch-checkbox")).type="checkbox",n.checked=he[v[0]][p[0]].value,l=A("div",k,"switch"),(a=A("label",v[0]+"."+p[0]+"setting-slider","slider")).htmlFor=t,s.append(l),l.append(n,a),M.append(o),e.append(s,i),o.append(e),w&&p[1].hasOwnProperty("map")&&p[1].map&&b.push(v[0]+"."+p[0]),(fe.s[v[0]].description||w&&p[1].hasOwnProperty("map")&&p[1].map)&&(e=A("div",k,"panel panel-body panelbody",(fe.s[v[0]].description||"")+(w&&p[1].hasOwnProperty("map")&&p[1].map?"<b><br><br>"+fe.mapkit+"</b>":"")),o.append(A("hr"),e)),he[v[0]].setting.value?u.classList.remove("hidden"):u.classList.add("hidden"),n.addEventListener("change",function(e){try{(he[v[0]].setting.value=e.currentTarget.checked)?u.classList.remove("hidden"):u.classList.add("hidden"),e.currentTarget.checked?he[v[0]].setting.On():he[v[0]].setting.Off(),me()}catch(e){be(e,""+v[0])}})):"subcategory"===p[1].type?(r=!0,h=3,o=A("h4",k,k,"<b>"+fe.s[v[0]+"."+p[0]].title+"</b>"),fe.s[v[0]+"."+p[0]].description?(n=A("span",k,k,fe.s[v[0]+"."+p[0]].description),f?g.append(o,n,A("hr")):g.append(A("br"),o,n,A("hr"))):f?g.append(o,A("hr")):g.append(A("br"),o,A("hr")),f=!1,Object.entries(p[1]).forEach(function(d){var c,u,e,i,s,t,n,l,a,o;"hidden"!==d[1].type&&("sub-subcategory"===d[1].type?(u=3,e=A("h4",k,k,"<b>"+fe.s[v[0]+"."+p[0]+"."+d[0]].title+"</b>","padding-left: 60px"),fe.s[v[0]+"."+p[0]+"."+d[0]].description?(l=A("span",k,k,fe.s[v[0]+"."+p[0]+"."+d[0]].description),r?g.append(e,l,A("hr")):g.append(A("br"),e,l,A("hr"))):r?g.append(e,A("hr")):g.append(A("br"),e,A("hr")),r=!1,Object.entries(d[1]).forEach(function(i){var e,s,t,n,l,a,o,r;"toggle"===i[1].type?(3===u&&(u=0,c=A("div",k,"settingGroup"),g.append(c)),u++,e=A("div",v[0]+"."+p[0]+"."+d[0]+"."+i[0]+"-setting","settingDiv"),s=A("h4"),t=A("b",k,k,"   "+fe.s[v[0]+"."+p[0]+"."+d[0]+"."+i[0]].title),n=A("span"),l=v[0]+"."+p[0]+"."+d[0]+"."+i[0]+"setting-checkbox",(a=A("input",l,"switch-checkbox")).type="checkbox",a.checked=he[v[0]][p[0]][d[0]][i[0]].value,o=A("div",k,"switch"),(r=A("label",v[0]+"."+p[0]+"."+d[0]+"."+i[0]+"setting-slider","slider")).htmlFor=l,n.append(o),o.append(a,r),c.append(e),s.append(n,t),e.append(s),w&&i[1].hasOwnProperty("map")&&i[1].map&&b.push(v[0]+"."+p[0]+"."+d[0]+"."+i[0]),(fe.s[v[0]+"."+p[0]+"."+d[0]+"."+i[0]].description||w&&i[1].hasOwnProperty("map")&&i[1].map)&&(s=A("div",k,"panel panel-body panelbody",(fe.s[v[0]+"."+p[0]+"."+d[0]+"."+i[0]].description?fe.s[v[0]+"."+p[0]+"."+d[0]+"."+i[0]].description:"")+(w&&i[1].hasOwnProperty("map")&&i[1].map?"<b><br><br>"+fe.mapkit+"</b>":"")),e.append(A("hr"),s)),i[1].hasOwnProperty("dependence")&&!i[1].value&&b.push.apply(b,$jscomp.arrayFromIterable(i[1].dependence)),a.addEventListener("change",function(e){try{i[1].hasOwnProperty("dependence")&&ye(i[1].dependence,e.currentTarget.checked),i[1].hasOwnProperty("conflict")&&e.currentTarget.checked&&Me(i[1].conflict),(he[v[0]][p[0]][d[0]][i[0]].value=e.currentTarget.checked)?i[1].On():i[1].Off(),me()}catch(e){be(e,v[0]+"."+p[0]+"."+d[0]+"."+i[0])}})):"input"!==i[1].type&&"number"!==i[1].type&&"hotkey"!==i[1].type||(3===u&&(u=0,c=A("div",k,"settingGroup"),g.append(c)),u++,e=A("div",v[0]+"."+p[0]+"."+d[0]+"."+i[0]+"-setting","settingDiv"),s=A("h4"),t=A("b",k,k,fe.s[v[0]+"."+p[0]+"."+d[0]+"."+i[0]].title+"    "),n=A("span"),(a=A("input",v[0]+"."+p[0]+"."+d[0]+"."+i[0]+"setting-input","settingInput")).value=he[v[0]][p[0]][d[0]][i[0]].value,n.append(a),c.append(e),s.append(t,n),e.append(s),fe.s[v[0]+"."+p[0]+"."+d[0]+"."+i[0]].description&&(s=A("div",k,"panel panel-body panelbody",fe.s[v[0]+"."+p[0]+"."+d[0]+"."+i[0]].description),e.append(A("hr"),s)),a.addEventListener("keyup",function(e){try{"input"===i[1].type?he[v[0]][p[0]][d[0]][i[0]].value=e.currentTarget.value:"number"===i[1].type?isNaN(e.currentTarget.value)||(he[v[0]][p[0]][d[0]][i[0]].value=parseInt(e.currentTarget.value)):"hotkey"===i[1].type&&(e.currentTarget.value=e.code,he[v[0]][p[0]][d[0]][i[0]].value=e.currentTarget.value),i[1].fun(),me()}catch(e){be(e,v[0]+"."+p[0]+"."+d[0]+"."+i[0])}}))})):"toggle"===d[1].type?(3===h&&(h=0,m=A("div",k,"settingGroup"),g.append(m)),h++,e=A("div",v[0]+"."+p[0]+"."+d[0]+"-setting","settingDiv"),i=A("h4"),s=A("b",k,k,"   "+fe.s[v[0]+"."+p[0]+"."+d[0]].title),t=A("span"),n=v[0]+"."+p[0]+"."+d[0]+"setting-checkbox",(l=A("input",n,"switch-checkbox")).type="checkbox",l.checked=he[v[0]][p[0]][d[0]].value,a=A("div",k,"switch"),(o=A("label",v[0]+"."+p[0]+"."+d[0]+"setting-slider","slider")).htmlFor=n,t.append(a),a.append(l,o),m.append(e),i.append(t,s),e.append(i),w&&d[1].hasOwnProperty("map")&&d[1].map&&b.push(v[0]+"."+p[0]+"."+d[0]),(fe.s[v[0]+"."+p[0]+"."+d[0]].description||w&&d[1].hasOwnProperty("map")&&d[1].map)&&(i=A("div",k,"panel panel-body panelbody",(fe.s[v[0]+"."+p[0]+"."+d[0]].description?fe.s[v[0]+"."+p[0]+"."+d[0]].description:"")+(w&&d[1].hasOwnProperty("map")&&d[1].map?"<b><br><br>"+fe.mapkit+"</b>":"")),e.append(A("hr"),i)),d[1].hasOwnProperty("dependence")&&!d[1].value&&b.push.apply(b,$jscomp.arrayFromIterable(d[1].dependence)),l.addEventListener("change",function(e){try{d[1].hasOwnProperty("dependence")&&ye(d[1].dependence,e.currentTarget.checked),d[1].hasOwnProperty("conflict")&&e.currentTarget.checked&&Me(d[1].conflict),(he[v[0]][p[0]][d[0]].value=e.currentTarget.checked)?d[1].On():d[1].Off(),me()}catch(e){be(e,v[0]+"."+p[0]+"."+d[0])}})):"input"!==d[1].type&&"number"!==d[1].type&&"hotkey"!==d[1].type||(3===h&&(h=0,m=A("div",k,"settingGroup"),g.append(m)),h++,e=A("div",v[0]+"."+p[0]+"."+d[0]+"-setting","settingDiv"),i=A("h4"),s=A("b",k,k,fe.s[v[0]+"."+p[0]+"."+d[0]].title+"    "),t=A("span"),(l=A("input",v[0]+"."+p[0]+"."+d[0]+"setting-input","settingInput")).value=he[v[0]][p[0]][d[0]].value,t.append(l),m.append(e),i.append(s,t),e.append(i),fe.s[v[0]+"."+p[0]+"."+d[0]].description&&(i=A("div",k,"panel panel-body panelbody",fe.s[v[0]+"."+p[0]+"."+d[0]].description),e.append(A("hr"),i)),l.addEventListener("keyup",function(e){try{"input"===d[1].type?he[v[0]][p[0]][d[0]].value=e.currentTarget.value:"number"===d[1].type?isNaN(e.currentTarget.value)||(he[v[0]][p[0]][d[0]].value=parseInt(e.currentTarget.value)):"hotkey"===d[1].type&&(e.currentTarget.value=e.code,he[v[0]][p[0]][d[0]].value=e.currentTarget.value),d[1].fun(),me()}catch(e){be(e,v[0]+"."+p[0]+"."+d[0])}})))})):"toggle"===p[1].type?(c===(null!=(o=v[1].columns)?o:3)&&(c=0,d=A("div",k,"settingGroup"),g.append(d)),c++,o=A("div",v[0]+"."+p[0]+"-setting","settingDiv"),e=A("h4"),i=A("b",k,k,"   "+fe.s[v[0]+"."+p[0]].title),s=A("span"),t=v[0]+"."+p[0]+"setting-checkbox",(n=A("input",t,"switch-checkbox")).type="checkbox",n.checked=he[v[0]][p[0]].value,l=A("div",k,"switch"),(a=A("label",v[0]+"."+p[0]+"setting-slider","slider")).htmlFor=t,s.append(l),l.append(n,a),d.append(o),e.append(s,i),o.append(e),w&&p[1].hasOwnProperty("map")&&p[1].map&&b.push(v[0]+"."+p[0]),(fe.s[v[0]+"."+p[0]].description||w&&p[1].hasOwnProperty("map")&&p[1].map)&&(e=A("div",k,"panel panel-body panelbody",(fe.s[v[0]+"."+p[0]].description?fe.s[v[0]+"."+p[0]].description:"")+(w&&p[1].hasOwnProperty("map")&&p[1].map?"<b><br><br>"+fe.mapkit+"</b>":"")),o.append(A("hr"),e)),p[1].hasOwnProperty("dependence")&&!p[1].value&&b.push.apply(b,$jscomp.arrayFromIterable(p[1].dependence)),n.addEventListener("change",function(e){try{p[1].hasOwnProperty("dependence")&&ye(p[1].dependence,e.currentTarget.checked),p[1].hasOwnProperty("conflict")&&e.currentTarget.checked&&Me(p[1].conflict),(he[v[0]][p[0]].value=e.currentTarget.checked)?p[1].On():p[1].Off(),me()}catch(e){be(e,v[0]+"."+p[0])}})):"input"!==p[1].type&&"number"!==p[1].type&&"hotkey"!==p[1].type||(3===c&&(c=0,d=A("div",k,"settingGroup"),g.append(d)),c++,o=A("div",v[0]+"."+p[0]+"-setting","settingDiv"),e=A("h4"),i=A("b",k,k,fe.s[v[0]+"."+p[0]].title+"    "),s=A("span"),(n=A("input",v[0]+"."+p[0]+"setting-input","settingInput")).value=he[v[0]][p[0]].value,s.append(n),d.append(o),e.append(i,s),o.append(e),fe.s[v[0]+"."+p[0]].description&&(e=A("div",k,"panel panel-body panelbody",fe.s[v[0]+"."+p[0]].description),o.append(A("hr"),e)),n.addEventListener("keyup",function(e){try{"input"===p[1].type?he[v[0]][p[0]].value=e.currentTarget.value:"number"===p[1].type?isNaN(e.currentTarget.value)||(he[v[0]][p[0]].value=parseInt(e.currentTarget.value)):"hotkey"===p[1].type&&(e.currentTarget.value=e.code,he[v[0]][p[0]].value=e.currentTarget.value),p[1].fun(),me()}catch(e){be(e,v[0]+"."+p[0])}})))}))}),ye(b,!1)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > showSettings"),S(e.message,"showSettings",!0,!1)}},Ce=void 0===localStorage.Scripts_MKS_requirements?{}:JSON.parse(localStorage.Scripts_MKS_requirements),Oe=0,!(ke=window.location.pathname.match(/^\/(missions\/)?(\w+)?$/g)))return e.return();switch(ke[0].replace(/[0-9\/]/g,"")){case"missions":if((he.alliance.setting.value&&he.alliance.missionheader.value||he.credits.setting.value&&(he.credits.missionheader.label.value||he.credits.missionheader.text.value))&&0<$("#mission_help").length)try{ne()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initCreditsMissionheader"),S(e.message,"initCreditsMissionheader",!0,!1)}he.general.HideAlarmNextShare.value&&ie();break;case"":return e.jumpTo(7)}e.jumpTo(8);break;case 7:if("/"!==window.location.pathname){e.jumpTo(9);break}Ae=function(){$.ajax({url:Le,method:"GET",success:function(e){Ie(e)},error:function(){Ie("error")}})};try{"0"===he.general.telemetry.setting.value&&($e=confirm("Scripts-MKS\n"+O()+C()+l),he.general.telemetry.setting.value=!!$e,me(),S("",$e?"Nieuwe gebruiker!":"Uitgeschreven",!1,!0)),!0===he.general.telemetry.setting.value&&S("","",!1,!1),pe()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > datacollection"),S(e.message,"datacollection",!0,!1)}return e.setCatchFinallyBlocks(10),e.yield(ce(),12);case 12:e.leaveTryBlock(11,5);break;case 10:$e=e.enterCatchBlock(5),console.error($e.message," > Scripts-MKS "+O()+C()+" > Failed to get Missionrequirements"),S($e.message,"Failed to get Missionrequirements",!0,!1);case 11:Ie=function(e){if("error"!==e&&Object.entries(e).forEach(function(e){fe[e[0]]&&"s"!==e[0]?fe[e[0]]=e[1]:"s"===e[0]&&Object.entries(e[1]).forEach(function(e){fe.s[e[0]]&&(fe.s[e[0]]=e[1])})}),$(".nav.navbar-nav.navbar-right").find("#news_li").after('<li><a id="Script-MKS-Setting-btn" title="'+fe.s.title+'"><img alt="Scripts-MKS" class="navbar-icon" src="https://srjtgw.db.files.1drv.com/y4mcrM6luIKT8JZCNOqzp4cH7Yutg2CC0IStZq1dGL_DYDOxPUtwo8R7UP2ywpO7_-LVzRVB-XNdwOFfutCFeSio0kKxkCkT5wiErBHsdb8hb9WLxnwPtOdb8uuWSVDUlNyu81BaVJ7vCA10rhWEEK07AEK5R9Dx7W-hQ-5UoFtY6VtXSLwobbn2ZIPIAHJ8krza5t3C3jVOGcY3BN3CHOG_A" title="'+fe.s.title+'"><span class="visible-xs">'+fe.s.title+"</span></span></a></li>"),$("#Script-MKS-Setting-btn").click(function(){Se()}),he.alliance.setting.value&&he.alliance.missionlist.value||he.credits.setting.value&&(he.credits.missionlist.label.value||he.credits.missionlist.text.value||he.credits.missionlist.labelAfter.value||he.credits.missionlist.textAfter.value))try{le()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initCreditsMissionlist"),S(e.message,"initCreditsMissionlist",!0,!1)}if(he.alliance.setting.value&&he.alliance.count.value||he.credits.setting.value&&he.credits.remainingCredits.setting.value)try{te()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initRemainingCredits"),S(e.message,"initRemainingCredits",!0,!1)}$(".mission_selection").each(function(e,i){i.addEventListener("click",Ne)}),r(),s=setTimeout(o,3e5);try{"undefined"==typeof mapkit&&map||(he.hideMap.vehicles.notInvolvedOwn.value=!1,he.hideMap.vehicles.allAlliance.value=!1,he.hideMap.vehicles.allOwn.value=!1,he.hideMap.missions.own.red.value=!1,he.hideMap.missions.own.yellow.value=!1,he.hideMap.missions.own.green.value=!1,he.hideMap.missions.alliance.red.value=!1,he.hideMap.missions.alliance.yellow.value=!1,he.hideMap.missions.alliance.green.value=!1,he.hideMap.missions.event.red.value=!1,he.hideMap.missions.event.yellow.value=!1,he.hideMap.missions.event.green.value=!1,he.hideMap.missions.own.shared.value=!1,he.hideMap.missions.own.notShared.value=!1,he.hideMap.missions.own.involved.value=!1,he.hideMap.missions.alliance.involved.value=!1,he.hideMap.missions.event.involved.value=!1),he.hideMap.vehicles.allOwn.value&&he.hideMap.setting.value&&J(),he.hideMap.vehicles.allAlliance.value&&he.hideMap.setting.value&&V(),he.hideMap.vehicles.notInvolvedOwn.value&&he.hideMap.setting.value&&F(),he.hideMissionlist.setting.value&&he.hideMissionlist.own.all.value&&B(),(he.hideMissionlist.setting.value&&he.hideMissionlist.own.involved.value||he.hideMissionlist.setting.value&&he.hideMissionlist.own.notInvolved.value)&&P(),he.hideMissionlist.setting.value&&he.hideMissionlist.own.shared.value&&E(),he.hideMissionlist.setting.value&&he.hideMissionlist.own.notShared.value&&L(),he.hideMissionlist.setting.value&&he.hideMissionlist.alliance.all.value&&_(),he.hideMissionlist.setting.value&&he.hideMissionlist.alliance.involved.value&&g(),he.hideMissionlist.setting.value&&he.hideMissionlist.event.involved.value&&u(),he.hideMissionlist.setting.value&&he.hideMissionlist.own.alliance.value&&I(),he.hideMissionlist.setting.value&&he.hideMissionlist.labelColor.setting.value&&(he.hideMissionlist.labelColor.event.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value||he.hideMissionlist.labelColor.own.red.value||he.hideMissionlist.labelColor.own.green.value||he.hideMissionlist.labelColor.own.darkBlue.value||he.hideMissionlist.labelColor.own.lightBlue.value||he.hideMissionlist.labelColor.own.yellow.value||he.hideMissionlist.labelColor.alliance.red.value||he.hideMissionlist.labelColor.alliance.green.value||he.hideMissionlist.labelColor.alliance.darkBlue.value||he.hideMissionlist.labelColor.alliance.lightBlue.value||he.hideMissionlist.labelColor.alliance.yellow.value)&&y(),he.hideMap.setting.value&&(he.hideMap.missions.own.red.value||he.hideMap.missions.own.yellow.value||he.hideMap.missions.own.green.value||he.hideMap.missions.alliance.red.value||he.hideMap.missions.alliance.yellow.value||he.hideMap.missions.alliance.green.value||he.hideMap.missions.event.red.value||he.hideMap.missions.event.yellow.value||he.hideMap.missions.event.green.value)&&setTimeout(Z,250,"all"),he.hideMap.setting.value&&(he.hideMap.missions.own.involved.value||he.hideMap.missions.alliance.involved.value||he.hideMap.missions.event.involved.value)&&q("load"),he.hideMap.setting.value&&(he.hideMap.missions.own.shared.value||he.hideMap.missions.own.notShared.value)&&Y("load"),ee()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > HideMap/missionlist"),S(e.message,"HideMap/missionlist",!0,!1)}he.sortMissionlist.setting.value&&(he.sortMissionlist.own.credits.value||he.sortMissionlist.guard.credits.value||he.sortMissionlist.alliance.credits.value||he.sortMissionlist.event.credits.value)&&Ne()},ue(),xe=new MutationObserver(function(e){e.forEach(function(e){var i=e.addedNodes[0];if(e.oldValue&&e.oldValue.match(/\bmission_deleted\b/)||!e.target.classList||!e.target.classList.contains("mission_deleted")){if(null!=i){try{oe($(i))}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > setupListener"),S(e.message,"setupListener",!0,!1)}if(he.alliance.setting.value&&he.alliance.count.value||he.credits.setting.value&&he.credits.remainingCredits.setting.value)try{se()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > calculateRemainingCredits"),S(e.message,"calculateRemainingCredits",!0,!1)}}}else if(he.alliance.setting.value&&he.alliance.count.value||he.credits.setting.value&&he.credits.remainingCredits.setting.value)try{se()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > culculateRemainingCredits"),S(e.message,"culculateRemainingCredits",!0,!1)}})}),Le="nl_NL"===I18n.locale?(Re="https://jrh-1997.github.io/Scripts-MKS/Script-bundle/Translations/nl_NL_2.json","https://api.npoint.io/e45ab3cc9c8596ff101d"):"de_DE"===I18n.locale?(Re="https://jrh-1997.github.io/Scripts-MKS/Script-bundle/Translations/de_DE_2.json","https://api.npoint.io/89c4d447deadd5f2d25b"):(Re="https://jrh-1997.github.io/Scripts-MKS/Script-bundle/Translations/en_US_GB_AU_2.json","https://api.npoint.io/df2d71bcf58e4a60e123"),$.ajax({url:Re,method:"GET",success:function(e){Ie(e)},error:function(){Ae()}}),Ee=Te=0,je=missionMarkerAdd,missionMarkerAdd=function(e){try{if(je.apply(this,arguments),f("mission_"+e.id).classList.contains("mission_deleted")||f("mission_"+e.id).getAttribute("mission_type_id")!=e.mtid||$(".missionSideBarEntry").not(".mission_deleted").length!=Te||$("#mission_list :not(.mission_deleted) .panel-success").length!=Ee||null==f("creditsmissionlist_"+e.id)&&he.credits.setting.value&&he.credits.missionlist.textAfter.value||null==f("creditsmissionlist_"+e.id)&&he.credits.setting.value&&he.credits.missionlist.text.value||null==f("creditsmissionlist_"+e.id)&&he.credits.setting.value&&he.credits.missionlist.labelAfter.value||null==f("creditsmissionlist_"+e.id)&&he.credits.setting.value&&he.credits.missionlist.label.value||null==f("creditsmissionlistlabel_TEAM_"+e.id)&&he.alliance.setting.value&&he.alliance.missionlist.value){Te=$(".missionSideBarEntry").not(".mission_deleted").length,Ee=$("#mission_list :not(.mission_deleted) .panel-success").length,f("mission_"+e.id).setAttribute("mission_type_id",e.mtid);try{(he.alliance.setting.value&&he.alliance.missionlist.value||he.credits.setting.value&&he.credits.missionlist.label.value||he.credits.setting.value&&he.credits.missionlist.text.value||he.credits.setting.value&&he.credits.missionlist.labelAfter.value||he.credits.setting.value&&he.credits.missionlist.textAfter.value)&&ae(e)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > mutationsCreditsMissionlist"),S(e.message,"mutationsCreditsMissionlist",!0,!1)}try{(he.alliance.setting.value&&he.alliance.count.value||he.credits.setting.value&&he.credits.remainingCredits.setting.value)&&se()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > calculateRemainingCredits"),S(e.message,"calculateRemainingCredits",!0,!1)}try{he.hideMissionlist.setting.value&&he.hideMissionlist.labelColor.setting.value&&(he.hideMissionlist.labelColor.event.red.value||he.hideMissionlist.labelColor.event.green.value||he.hideMissionlist.labelColor.event.darkBlue.value||he.hideMissionlist.labelColor.event.lightBlue.value||he.hideMissionlist.labelColor.event.yellow.value||he.hideMissionlist.labelColor.own.red.value||he.hideMissionlist.labelColor.own.green.value||he.hideMissionlist.labelColor.own.darkBlue.value||he.hideMissionlist.labelColor.own.lightBlue.value||he.hideMissionlist.labelColor.own.yellow.value||he.hideMissionlist.labelColor.alliance.red.value||he.hideMissionlist.labelColor.alliance.green.value||he.hideMissionlist.labelColor.alliance.darkBlue.value||he.hideMissionlist.labelColor.alliance.lightBlue.value||he.hideMissionlist.labelColor.alliance.yellow.value)&&setTimeout(M,250,e)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > HideMissionlistByLabel"),S(e.message,"HideMissionlistByLabel",!0,!1)}try{he.sortMissionlist.setting.value&&(he.sortMissionlist.own.credits.value||he.sortMissionlist.guard.credits.value||he.sortMissionlist.alliance.credits.value||he.sortMissionlist.event.credits.value)&&De(e)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > sortMissionlist"),S(e.message,"sortMissionlist",!0,!1)}}try{he.hideMap.setting.value&&he.hideMap.vehicles.allOwn.value&&setTimeout(J,250)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeAllOwnVehicles"),S(e.message,"removeAllOwnVehicles",!0,!1)}try{he.hideMap.setting.value&&he.hideMap.vehicles.allAlliance.value&&setTimeout(V,250)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeAllAllianceVehicles"),S(e.message,"removeAllAllianceVehicles",!0,!1)}try{he.hideMap.setting.value&&he.hideMap.vehicles.notInvolvedOwn.value&&setTimeout(F,250)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeAllOwnNotInvolvedVehicles"),S(e.message,"removeAllOwnNotInvolvedVehicles",!0,!1)}try{he.hideMissionlist.setting.value&&he.hideMissionlist.own.all.value&&setTimeout(B,250)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeAllOwnmissionsMissionlist"),S(e.message,"removeAllOwnmissionsMissionlist",!0,!1)}try{(he.hideMissionlist.setting.value&&he.hideMissionlist.own.involved.value||he.hideMissionlist.setting.value&&he.hideMissionlist.own.notInvolved.value)&&setTimeout(P,250)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeInvolvedOwnmissionsMissionlist"),S(e.message,"removeInvolvedOwnmissionsMissionlist",!0,!1)}try{he.hideMissionlist.setting.value&&he.hideMissionlist.own.shared.value&&setTimeout(E,250)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeSharedOwnmissionsMissionlist"),S(e.message,"removeSharedOwnmissionsMissionlist",!0,!1)}try{he.hideMissionlist.setting.value&&he.hideMissionlist.own.notShared.value&&setTimeout(L,250)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeNotSharedOwnmissionsMissionlist"),S(e.message,"removeNotSharedOwnmissionsMissionlist",!0,!1)}try{he.hideMissionlist.setting.value&&he.hideMissionlist.alliance.all.value&&setTimeout(_,250)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeAllAlliancemissionsMissionlist"),S(e.message,"removeAllAlliancemissionsMissionlist",!0,!1)}try{he.hideMissionlist.setting.value&&he.hideMissionlist.alliance.involved.value&&setTimeout(g,250)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeInvolvedAlliancemissionsMissionlist"),S(e.message,"removeInvolvedAlliancemissionsMissionlist",!0,!1)}try{he.hideMissionlist.setting.value&&he.hideMissionlist.event.involved.value&&setTimeout(u,250)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > removeInvolvedEventmissionsMissionlist"),S(e.message,"removeInvolvedEventmissionsMissionlist",!0,!1)}try{he.hideMissionlist.setting.value&&he.hideMissionlist.own.alliance.value&&null!=e&&setTimeout(w,250,e)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > hideNotAllianceOwnMissionsMissionlist"),S(e.message,"hideNotAllianceOwnMissionsMissionlist",!0,!1)}try{he.hideMap.setting.value&&(he.hideMap.missions.own.red.value||he.hideMap.missions.own.yellow.value||he.hideMap.missions.own.green.value||he.hideMap.missions.alliance.red.value||he.hideMap.missions.alliance.yellow.value||he.hideMap.missions.alliance.green.value||he.hideMap.missions.event.red.value||he.hideMap.missions.event.yellow.value||he.hideMap.missions.event.green.value)&&null!=e&&setTimeout(Q,250,e)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > HideMissionByState"),S(e.message,"HideMissionByState",!0,!1)}try{he.hideMap.setting.value&&(he.hideMap.missions.own.involved.value||he.hideMap.missions.alliance.involved.value||he.hideMap.missions.event.involved.value)&&null!=e&&setTimeout(W,250,e)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > HideinvolvedMission"),S(e.message,"HideinvolvedMission",!0,!1)}try{he.hideMap.setting.value&&(he.hideMap.missions.own.shared.value||he.hideMap.missions.own.notShared.value)&&null!=e&&setTimeout(X,250,e)}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > HideShareNotSharedMission"),S(e.message,"HideShareNotSharedMission",!0,!1)}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > missionMarkerAdd"),S(e.message,"missionMarkerAdd",!0,!1)}},Pe=vehicleDrive,vehicleDrive=function(){try{try{Pe.apply(this,arguments)}catch(e){}he.hideMap.vehicles.allOwn.value&&he.hideMap.setting.value&&J(),he.hideMap.vehicles.allAlliance.value&&he.hideMap.setting.value&&V(),he.hideMap.vehicles.notInvolvedOwn.value&&he.hideMap.setting.value&&F()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > vehicleDrive"),S(e.message,"vehicleDrive",!0,!1)}},Ke=vehicleMarkerAdd,vehicleMarkerAdd=function(){try{try{Ke.apply(this,arguments)}catch(e){}he.hideMap.vehicles.allOwn.value&&he.hideMap.setting.value&&J(),he.hideMap.vehicles.allAlliance.value&&he.hideMap.setting.value&&V(),he.hideMap.vehicles.notInvolvedOwn.value&&he.hideMap.setting.value&&F()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > vehicleMarkerAdd"),S(e.message,"vehicleMarkerAdd",!0,!1)}};case 9:e.jumpTo(8);break;case 8:try{me()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > setSettings (before Hotkey)"),S(e.message,"setSettings (before Hotkey)",!0,!1)}$(document).keydown(function(e){try{if(he.hotkey.setting.value&&!$("input").is(":focus")){switch(e.originalEvent.code){case he.hotkey.savePOI.value:try{"/"===window.location.pathname&&$(f("new_mission_position")).find(".btn-success").click()}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > s.hotkey.savePOI.value"),S(e.message,"s.hotkey.savePOI.value",!0,!1)}break;case he.hotkey.OpenTransportRequests.value:try{var i;"/"!==window.location.pathname||(i=$(f("radio_messages_important")).find("li").not(".radio_message_alliance"))[0]&&(i[0].getElementsByClassName("btn-success")[0]?(i.find("a[href^='/missions/']:eq(0)")[0].click(),i[0].getElementsByClassName("btn-success")[0]&&i.find(".btn-success")[0].click()):i.find("a[href^='/vehicles/']:eq(0)")[0].click())}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > s.hotkey.OpenTransportRequests.value"),S(e.message,"s.hotkey.OpenTransportRequests.value",!0,!1)}}return e.returnValue}}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > Hotkey"),S(e.message,"Hotkey",!0,!1)}}),localStorage.getItem("Scripts-MKS_POIoptions")&&localStorage.removeItem("Scripts-MKS_POIoptions"),Ne=function(){try{"none"!==f("mission_list").style.display&&he.sortMissionlist.setting.value&&he.sortMissionlist.own.credits.value?he.sortMissionlist.own.ownDesc.value?(f("mission_list").classList.add("missionSortDesc-Scripts-MKS"),f("mission_list").classList.remove("missionSort-Scripts-MKS")):(f("mission_list").classList.add("missionSort-Scripts-MKS"),f("mission_list").classList.remove("missionSortDesc-Scripts-MKS")):(f("mission_list").classList.remove("missionSort-Scripts-MKS"),f("mission_list").classList.remove("missionSortDesc-Scripts-MKS")),"none"!==f("mission_list_sicherheitswache").style.display&&he.sortMissionlist.setting.value&&he.sortMissionlist.guard.credits.value?he.sortMissionlist.guard.guardDesc.value?(f("mission_list_sicherheitswache").classList.add("missionSortDesc-Scripts-MKS"),f("mission_list_sicherheitswache").classList.remove("missionSort-Scripts-MKS")):(f("mission_list_sicherheitswache").classList.add("missionSort-Scripts-MKS"),f("mission_list_sicherheitswache").classList.remove("missionSortDesc-Scripts-MKS")):(f("mission_list_sicherheitswache").classList.remove("missionSort-Scripts-MKS"),f("mission_list_sicherheitswache").classList.remove("missionSortDesc-Scripts-MKS")),"none"!==f("mission_list_alliance").style.display&&he.sortMissionlist.setting.value&&he.sortMissionlist.alliance.credits.value?he.sortMissionlist.alliance.allianceDesc.value?(f("mission_list_alliance").classList.add("missionSortDesc-Scripts-MKS"),f("mission_list_alliance").classList.remove("missionSort-Scripts-MKS")):(f("mission_list_alliance").classList.add("missionSort-Scripts-MKS"),f("mission_list_alliance").classList.remove("missionSortDesc-Scripts-MKS")):(f("mission_list_alliance").classList.remove("missionSort-Scripts-MKS"),f("mission_list_alliance").classList.remove("missionSortDesc-Scripts-MKS")),"none"!==f("mission_list_alliance_event").style.display&&he.sortMissionlist.setting.value&&he.sortMissionlist.event.credits.value?he.sortMissionlist.event.eventDesc.value?(f("mission_list_alliance_event").classList.add("missionSortDesc-Scripts-MKS"),f("mission_list_alliance_event").classList.remove("missionSort-Scripts-MKS")):(f("mission_list_alliance_event").classList.add("missionSort-Scripts-MKS"),f("mission_list_alliance_event").classList.remove("missionSortDesc-Scripts-MKS")):(f("mission_list_alliance_event").classList.remove("missionSort-Scripts-MKS"),f("mission_list_alliance_event").classList.remove("missionSortDesc-Scripts-MKS"));for(var e,i=$(".missionSideBarEntry"),s={},t=0;t<i.length;s={$jscomp$loop$prop$m$193:s.$jscomp$loop$prop$m$193,$jscomp$loop$prop$type$194:s.$jscomp$loop$prop$type$194},t++)s.$jscomp$loop$prop$m$193=i[t],he.sortMissionlist.own.credits.value||he.sortMissionlist.guard.credits.value||he.sortMissionlist.alliance.credits.value||he.sortMissionlist.event.credits.value?(s.$jscomp$loop$prop$type$194=s.$jscomp$loop$prop$m$193.getAttribute("mission_type_id"),e=void 0,s.$jscomp$loop$prop$type$194?Ce[s.$jscomp$loop$prop$type$194]?s.$jscomp$loop$prop$m$193.style.order=null!=(e=Ce[s.$jscomp$loop$prop$type$194].average_credits)?e:0:setTimeout(function(i){return function(){var e;i.$jscomp$loop$prop$m$193.style.order=Ce[i.$jscomp$loop$prop$type$194]&&null!=(e=Ce[i.$jscomp$loop$prop$type$194].average_credits)?e:0}}(s),1e3):s.$jscomp$loop$prop$m$193.style.order=99999):s.$jscomp$loop$prop$m$193.style.order=""}catch(e){console.error(e.message," > Scripts-MKS "+O()+C()+" > initSortMissionlist"),S(e.message,"initSortMissionlist",!0,!1)}},De=function(e){var i=f("mission_"+e.id),s=e.mtid;s?Ce[s]?i.style.order=null!=(e=Ce[s].average_credits)?e:0:setTimeout(function(){var e;i.style.order=Ce[s]&&null!=(e=Ce[s].average_credits)?e:0},1e3):i.style.order=99999},e.leaveTryBlock(0);break;case 5:Re=e.enterCatchBlock(),console.error(Re.message," > Scripts-MKS "+O()+C()+" > Whole script"),S(Re.message,"Whole script",!0,!1),e.jumpToEnd()}})}();